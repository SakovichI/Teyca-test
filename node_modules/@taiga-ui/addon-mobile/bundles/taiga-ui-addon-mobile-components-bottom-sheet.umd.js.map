{"version":3,"file":"taiga-ui-addon-mobile-components-bottom-sheet.umd.js","sources":["../../../projects/addon-mobile/components/bottom-sheet/bottom-sheet.component.ts","../../../projects/addon-mobile/components/bottom-sheet/bottom-sheet.template.html","../../../projects/addon-mobile/components/bottom-sheet/bottom-sheet.module.ts","../../../projects/addon-mobile/components/bottom-sheet/taiga-ui-addon-mobile-components-bottom-sheet.ts"],"sourcesContent":["import {\n    ChangeDetectionStrategy,\n    Component,\n    ElementRef,\n    Inject,\n    Input,\n    QueryList,\n    ViewChild,\n    ViewChildren,\n} from '@angular/core';\nimport {EMPTY_QUERY} from '@taiga-ui/cdk';\n\nconst OPTIONS = {\n    duration: 20,\n    easing: 'ease-in',\n    fill: 'forwards',\n} as const;\n\n@Component({\n    selector: 'tui-bottom-sheet',\n    templateUrl: './bottom-sheet.template.html',\n    styleUrls: ['./bottom-sheet.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    host: {\n        '[style.--t-start]': 'stops[0]',\n        '[style.scroll-snap-type]': 'stops.length > 1 ? \"y mandatory\" : null',\n        '(scroll.silent)': 'onScroll()',\n    },\n})\nexport class TuiBottomSheetComponent {\n    @ViewChildren('stops')\n    private readonly elements: QueryList<ElementRef<HTMLElement>> = EMPTY_QUERY;\n\n    @ViewChild('content')\n    private readonly content?: ElementRef<HTMLElement>;\n\n    @Input()\n    stops: readonly string[] = ['1.5rem'];\n\n    constructor(@Inject(ElementRef) private readonly el: ElementRef<HTMLElement>) {}\n\n    onScroll(): void {\n        const {clientHeight, scrollTop, scrollHeight} = this.el.nativeElement;\n        const top = this.elements.get(0)?.nativeElement.clientHeight || 0;\n        const max = this.content?.nativeElement.clientHeight || Infinity;\n        const height = Math.min(clientHeight, max);\n        const scrolled = Math.min(scrollTop, height - top);\n        const transform = `translate3d(0, ${-1 * scrolled}px, 0)`;\n\n        this.el.nativeElement.style.setProperty('--t-height', `${scrollHeight}px`);\n        this.el.nativeElement.animate([{transform}], OPTIONS);\n    }\n}\n","<div\n    *ngFor=\"let stop of stops\"\n    #stops\n    class=\"t-stop\"\n    [style.top]=\"stop\"\n></div>\n<div\n    #content\n    class=\"t-content\"\n>\n    <ng-content></ng-content>\n</div>\n<div class=\"t-bottom\"></div>\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\n\nimport {TuiBottomSheetComponent} from './bottom-sheet.component';\n\n@NgModule({\n    imports: [CommonModule],\n    declarations: [TuiBottomSheetComponent],\n    exports: [TuiBottomSheetComponent],\n})\nexport class TuiBottomSheetModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["EMPTY_QUERY","i0","ElementRef","i1","Component","ChangeDetectionStrategy","Inject","ViewChildren","ViewChild","Input","CommonModule","NgModule"],"mappings":"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"}