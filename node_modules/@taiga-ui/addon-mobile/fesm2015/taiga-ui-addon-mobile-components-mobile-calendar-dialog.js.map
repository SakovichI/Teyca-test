{"version":3,"file":"taiga-ui-addon-mobile-components-mobile-calendar-dialog.js","sources":["../../../projects/addon-mobile/components/mobile-calendar-dialog/mobile-calendar-dialog.component.ts","../../../projects/addon-mobile/components/mobile-calendar-dialog/mobile-calendar-dialog.template.html","../../../projects/addon-mobile/components/mobile-calendar-dialog/mobile-calendar-dropdown.component.ts","../../../projects/addon-mobile/components/mobile-calendar-dialog/mobile-calendar-dropdown.template.html","../../../projects/addon-mobile/components/mobile-calendar-dialog/mobile-calendar-dialog.module.ts","../../../projects/addon-mobile/components/mobile-calendar-dialog/taiga-ui-addon-mobile-components-mobile-calendar-dialog.ts"],"sourcesContent":["import {ChangeDetectionStrategy, Component, Inject} from '@angular/core';\nimport {\n    ALWAYS_FALSE_HANDLER,\n    TUI_FIRST_DAY,\n    TUI_LAST_DAY,\n    TuiBooleanHandler,\n    TuiDay,\n    TuiDayRange,\n} from '@taiga-ui/cdk';\nimport {TuiDialogContext} from '@taiga-ui/core';\nimport {TuiMobileCalendarData} from '@taiga-ui/kit';\nimport {POLYMORPHEUS_CONTEXT} from '@tinkoff/ng-polymorpheus';\n\n@Component({\n    selector: 'tui-mobile-calendar-dialog',\n    templateUrl: './mobile-calendar-dialog.template.html',\n    styleUrls: ['./mobile-calendar-dialog.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TuiMobileCalendarDialogComponent {\n    constructor(\n        @Inject(POLYMORPHEUS_CONTEXT)\n        readonly context: TuiDialogContext<\n            TuiDay | TuiDayRange | readonly TuiDay[],\n            TuiMobileCalendarData | undefined\n        >,\n    ) {}\n\n    get single(): boolean {\n        return this.context.data?.single === true;\n    }\n\n    get multi(): boolean {\n        return this.context.data?.multi === true;\n    }\n\n    get min(): TuiDay {\n        return this.context.data?.min || TUI_FIRST_DAY;\n    }\n\n    get max(): TuiDay {\n        return this.context.data?.max || TUI_LAST_DAY;\n    }\n\n    get disabledItemHandler(): TuiBooleanHandler<TuiDay> {\n        return this.context.data?.disabledItemHandler || ALWAYS_FALSE_HANDLER;\n    }\n}\n","<tui-mobile-calendar\n    [disabledItemHandler]=\"disabledItemHandler\"\n    [max]=\"max\"\n    [min]=\"min\"\n    [multi]=\"multi\"\n    [single]=\"single\"\n    (cancel)=\"context.$implicit.complete()\"\n    (confirm)=\"context.completeWith($event)\"\n></tui-mobile-calendar>\n","import {\n    ChangeDetectionStrategy,\n    Component,\n    HostBinding,\n    Inject,\n    Optional,\n} from '@angular/core';\nimport {TuiKeyboardService} from '@taiga-ui/addon-mobile/services';\nimport {\n    ALWAYS_FALSE_HANDLER,\n    TUI_FIRST_DAY,\n    TUI_LAST_DAY,\n    TuiActiveZoneDirective,\n    TuiDay,\n    TuiDayRange,\n} from '@taiga-ui/cdk';\nimport {\n    TUI_ANIMATIONS_DURATION,\n    tuiFadeIn,\n    TuiHostedDropdownComponent,\n    tuiSlideInTop,\n} from '@taiga-ui/core';\nimport {\n    TuiInputDateComponent,\n    TuiInputDateMultiComponent,\n    TuiInputDateRangeComponent,\n} from '@taiga-ui/kit';\n\n@Component({\n    selector: 'tui-mobile-calendar-dropdown',\n    templateUrl: './mobile-calendar-dropdown.template.html',\n    styleUrls: ['./mobile-calendar-dropdown.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    animations: [tuiSlideInTop, tuiFadeIn],\n})\nexport class TuiMobileCalendarDropdownComponent {\n    @HostBinding('@tuiSlideInTop')\n    @HostBinding('@tuiFadeIn')\n    readonly animation = {\n        value: '',\n        params: {\n            start: '100vh',\n            duration: this.duration,\n        },\n    } as const;\n\n    readonly min =\n        this.single?.min ||\n        this.multi?.min ||\n        this.range?.maxLengthMapper(\n            this.range.computedMin,\n            this.range.value,\n            this.range.maxLength,\n            true,\n        ) ||\n        TUI_FIRST_DAY;\n\n    readonly max =\n        this.single?.max ||\n        this.multi?.max ||\n        this.range?.maxLengthMapper(\n            this.range.computedMax,\n            this.range.value,\n            this.range.maxLength,\n            false,\n        ) ||\n        TUI_LAST_DAY;\n\n    readonly disabledItemHandler =\n        this.single?.disabledItemHandler ||\n        this.multi?.disabledItemHandler ||\n        this.range?.disabledItemHandler ||\n        ALWAYS_FALSE_HANDLER;\n\n    constructor(\n        @Inject(TuiActiveZoneDirective) readonly zone: TuiActiveZoneDirective,\n        @Inject(TUI_ANIMATIONS_DURATION) private readonly duration: number,\n        @Optional()\n        @Inject(TuiInputDateComponent)\n        readonly single: TuiInputDateComponent | null,\n        @Optional()\n        @Inject(TuiInputDateMultiComponent)\n        readonly multi: TuiInputDateMultiComponent | null,\n        @Optional()\n        @Inject(TuiInputDateRangeComponent)\n        private readonly range: TuiInputDateRangeComponent | null,\n        @Inject(TuiHostedDropdownComponent)\n        private readonly dropdown: TuiHostedDropdownComponent,\n        @Inject(TuiKeyboardService)\n        private readonly keyboard: TuiKeyboardService,\n    ) {\n        this.keyboard.hide();\n    }\n\n    close(): void {\n        this.dropdown.computedHost.focus();\n        this.dropdown.updateOpen(false);\n        this.keyboard.show();\n    }\n\n    confirm(value: TuiDay | TuiDayRange | readonly TuiDay[] | null): void {\n        const control = this.single || this.multi || this.range;\n\n        if (control) {\n            control.value =\n                this.range && value instanceof TuiDay\n                    ? new TuiDayRange(value, value)\n                    : value;\n        }\n\n        this.close();\n    }\n}\n","<tui-mobile-calendar\n    tuiActiveZone\n    [disabledItemHandler]=\"disabledItemHandler\"\n    [max]=\"max\"\n    [min]=\"min\"\n    [multi]=\"!!multi\"\n    [single]=\"!!single\"\n    (cancel)=\"close()\"\n    (confirm)=\"confirm($event)\"\n></tui-mobile-calendar>\n","import {NgModule} from '@angular/core';\nimport {TuiMobileCalendarModule} from '@taiga-ui/addon-mobile/components/mobile-calendar';\nimport {TuiActiveZoneModule} from '@taiga-ui/cdk';\nimport {TUI_MOBILE_CALENDAR} from '@taiga-ui/kit';\n\nimport {TuiMobileCalendarDialogComponent} from './mobile-calendar-dialog.component';\nimport {TuiMobileCalendarDropdownComponent} from './mobile-calendar-dropdown.component';\n\n@NgModule({\n    imports: [TuiMobileCalendarModule, TuiActiveZoneModule],\n    declarations: [TuiMobileCalendarDialogComponent, TuiMobileCalendarDropdownComponent],\n    providers: [\n        {\n            provide: TUI_MOBILE_CALENDAR,\n            useValue: TuiMobileCalendarDropdownComponent,\n        },\n    ],\n    exports: [TuiMobileCalendarDialogComponent],\n})\nexport class TuiMobileCalendarDialogModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":";;;;;;;;;;;;;;MAmBa,gCAAgC,CAAA;AACzC,IAAA,WAAA,CAEa,OAGR,EAAA;QAHQ,IAAO,CAAA,OAAA,GAAP,OAAO,CAGf;KACD;AAEJ,IAAA,IAAI,MAAM,GAAA;;QACN,OAAO,CAAA,CAAA,EAAA,GAAA,IAAI,CAAC,OAAO,CAAC,IAAI,MAAE,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,MAAM,MAAK,IAAI,CAAC;KAC7C;AAED,IAAA,IAAI,KAAK,GAAA;;QACL,OAAO,CAAA,CAAA,EAAA,GAAA,IAAI,CAAC,OAAO,CAAC,IAAI,MAAE,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,KAAK,MAAK,IAAI,CAAC;KAC5C;AAED,IAAA,IAAI,GAAG,GAAA;;QACH,OAAO,CAAA,CAAA,EAAA,GAAA,IAAI,CAAC,OAAO,CAAC,IAAI,MAAE,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,GAAG,KAAI,aAAa,CAAC;KAClD;AAED,IAAA,IAAI,GAAG,GAAA;;QACH,OAAO,CAAA,CAAA,EAAA,GAAA,IAAI,CAAC,OAAO,CAAC,IAAI,MAAE,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,GAAG,KAAI,YAAY,CAAC;KACjD;AAED,IAAA,IAAI,mBAAmB,GAAA;;QACnB,OAAO,CAAA,CAAA,EAAA,GAAA,IAAI,CAAC,OAAO,CAAC,IAAI,MAAE,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,mBAAmB,KAAI,oBAAoB,CAAC;KACzE;;AA3BQ,gCAAA,CAAA,IAAA,GAAA,EAAA,CAAA,kBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,gCAAgC,kBAE7B,oBAAoB,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;AAFvB,gCAAA,CAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,IAAA,EAAA,gCAAgC,kECnB7C,yRASA,EAAA,MAAA,EAAA,CAAA,kEAAA,CAAA,EAAA,UAAA,EAAA,CAAA,EAAA,IAAA,EAAA,EAAA,CAAA,0BAAA,EAAA,QAAA,EAAA,qBAAA,EAAA,MAAA,EAAA,CAAA,QAAA,EAAA,OAAA,EAAA,KAAA,EAAA,KAAA,EAAA,qBAAA,EAAA,OAAA,CAAA,EAAA,OAAA,EAAA,CAAA,QAAA,EAAA,SAAA,EAAA,aAAA,CAAA,EAAA,CAAA,EAAA,eAAA,EAAA,EAAA,CAAA,uBAAA,CAAA,MAAA,EAAA,CAAA,CAAA;4FDUa,gCAAgC,EAAA,UAAA,EAAA,CAAA;kBAN5C,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACP,oBAAA,QAAQ,EAAE,4BAA4B;AACtC,oBAAA,WAAW,EAAE,wCAAwC;oBACrD,SAAS,EAAE,CAAC,qCAAqC,CAAC;oBAClD,eAAe,EAAE,uBAAuB,CAAC,MAAM;AAClD,iBAAA,CAAA;;0BAGQ,MAAM;2BAAC,oBAAoB,CAAA;;;MEcvB,kCAAkC,CAAA;AAuC3C,IAAA,WAAA,CAC6C,IAA4B,EACnB,QAAgB,EAGzD,MAAoC,EAGpC,KAAwC,EAGhC,KAAwC,EAExC,QAAoC,EAEpC,QAA4B,EAAA;;QAdJ,IAAI,CAAA,IAAA,GAAJ,IAAI,CAAwB;QACnB,IAAQ,CAAA,QAAA,GAAR,QAAQ,CAAQ;QAGzD,IAAM,CAAA,MAAA,GAAN,MAAM,CAA8B;QAGpC,IAAK,CAAA,KAAA,GAAL,KAAK,CAAmC;QAGhC,IAAK,CAAA,KAAA,GAAL,KAAK,CAAmC;QAExC,IAAQ,CAAA,QAAA,GAAR,QAAQ,CAA4B;QAEpC,IAAQ,CAAA,QAAA,GAAR,QAAQ,CAAoB;AAnDxC,QAAA,IAAA,CAAA,SAAS,GAAG;AACjB,YAAA,KAAK,EAAE,EAAE;AACT,YAAA,MAAM,EAAE;AACJ,gBAAA,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,IAAI,CAAC,QAAQ;AAC1B,aAAA;SACK,CAAC;AAEF,QAAA,IAAA,CAAA,GAAG,GACR,CAAA,CAAA,EAAA,GAAA,IAAI,CAAC,MAAM,0CAAE,GAAG;AAChB,aAAA,CAAA,EAAA,GAAA,IAAI,CAAC,KAAK,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAE,GAAG,CAAA;aACf,CAAA,EAAA,GAAA,IAAI,CAAC,KAAK,MAAE,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,eAAe,CACvB,IAAI,CAAC,KAAK,CAAC,WAAW,EACtB,IAAI,CAAC,KAAK,CAAC,KAAK,EAChB,IAAI,CAAC,KAAK,CAAC,SAAS,EACpB,IAAI,CACP,CAAA;AACD,YAAA,aAAa,CAAC;AAET,QAAA,IAAA,CAAA,GAAG,GACR,CAAA,CAAA,EAAA,GAAA,IAAI,CAAC,MAAM,0CAAE,GAAG;AAChB,aAAA,CAAA,EAAA,GAAA,IAAI,CAAC,KAAK,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAE,GAAG,CAAA;aACf,CAAA,EAAA,GAAA,IAAI,CAAC,KAAK,MAAE,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,eAAe,CACvB,IAAI,CAAC,KAAK,CAAC,WAAW,EACtB,IAAI,CAAC,KAAK,CAAC,KAAK,EAChB,IAAI,CAAC,KAAK,CAAC,SAAS,EACpB,KAAK,CACR,CAAA;AACD,YAAA,YAAY,CAAC;AAER,QAAA,IAAA,CAAA,mBAAmB,GACxB,CAAA,CAAA,EAAA,GAAA,IAAI,CAAC,MAAM,0CAAE,mBAAmB;AAChC,aAAA,CAAA,EAAA,GAAA,IAAI,CAAC,KAAK,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAE,mBAAmB,CAAA;AAC/B,aAAA,CAAA,EAAA,GAAA,IAAI,CAAC,KAAK,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAE,mBAAmB,CAAA;AAC/B,YAAA,oBAAoB,CAAC;AAmBrB,QAAA,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;KACxB;IAED,KAAK,GAAA;AACD,QAAA,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;AACnC,QAAA,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;AAChC,QAAA,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;KACxB;AAED,IAAA,OAAO,CAAC,KAAsD,EAAA;AAC1D,QAAA,MAAM,OAAO,GAAG,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC;AAExD,QAAA,IAAI,OAAO,EAAE;AACT,YAAA,OAAO,CAAC,KAAK;AACT,gBAAA,IAAI,CAAC,KAAK,IAAI,KAAK,YAAY,MAAM;AACjC,sBAAE,IAAI,WAAW,CAAC,KAAK,EAAE,KAAK,CAAC;sBAC7B,KAAK,CAAC;AACnB,SAAA;QAED,IAAI,CAAC,KAAK,EAAE,CAAC;KAChB;;AA5EQ,kCAAA,CAAA,IAAA,GAAA,EAAA,CAAA,kBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,kCAAkC,EAwC/B,IAAA,EAAA,CAAA,EAAA,KAAA,EAAA,sBAAsB,EACtB,EAAA,EAAA,KAAA,EAAA,uBAAuB,EAEvB,EAAA,EAAA,KAAA,EAAA,qBAAqB,EAGrB,QAAA,EAAA,IAAA,EAAA,EAAA,EAAA,KAAA,EAAA,0BAA0B,EAG1B,QAAA,EAAA,IAAA,EAAA,EAAA,EAAA,KAAA,EAAA,0BAA0B,EAE1B,QAAA,EAAA,IAAA,EAAA,EAAA,EAAA,KAAA,EAAA,0BAA0B,aAE1B,kBAAkB,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;AArDrB,kCAAA,CAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,IAAA,EAAA,kCAAkC,kKCnC/C,8QAUA,EAAA,MAAA,EAAA,CAAA,uKAAA,CAAA,EAAA,UAAA,EAAA,CAAA,EAAA,IAAA,EAAA,EAAA,CAAA,0BAAA,EAAA,QAAA,EAAA,qBAAA,EAAA,MAAA,EAAA,CAAA,QAAA,EAAA,OAAA,EAAA,KAAA,EAAA,KAAA,EAAA,qBAAA,EAAA,OAAA,CAAA,EAAA,OAAA,EAAA,CAAA,QAAA,EAAA,SAAA,EAAA,aAAA,CAAA,EAAA,CAAA,EAAA,UAAA,EAAA,CAAA,EAAA,IAAA,EAAA,EAAA,CAAA,sBAAA,EAAA,QAAA,EAAA,qHAAA,EAAA,MAAA,EAAA,CAAA,qBAAA,CAAA,EAAA,OAAA,EAAA,CAAA,qBAAA,CAAA,EAAA,QAAA,EAAA,CAAA,eAAA,CAAA,EAAA,CAAA,EAAA,UAAA,EDuBgB,CAAC,aAAa,EAAE,SAAS,CAAC,EAAA,eAAA,EAAA,EAAA,CAAA,uBAAA,CAAA,MAAA,EAAA,CAAA,CAAA;4FAE7B,kCAAkC,EAAA,UAAA,EAAA,CAAA;kBAP9C,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACP,oBAAA,QAAQ,EAAE,8BAA8B;AACxC,oBAAA,WAAW,EAAE,0CAA0C;oBACvD,SAAS,EAAE,CAAC,uCAAuC,CAAC;oBACpD,eAAe,EAAE,uBAAuB,CAAC,MAAM;AAC/C,oBAAA,UAAU,EAAE,CAAC,aAAa,EAAE,SAAS,CAAC;AACzC,iBAAA,CAAA;;0BAyCQ,MAAM;2BAAC,sBAAsB,CAAA;;0BAC7B,MAAM;2BAAC,uBAAuB,CAAA;;0BAC9B,QAAQ;;0BACR,MAAM;2BAAC,qBAAqB,CAAA;;0BAE5B,QAAQ;;0BACR,MAAM;2BAAC,0BAA0B,CAAA;;0BAEjC,QAAQ;;0BACR,MAAM;2BAAC,0BAA0B,CAAA;;0BAEjC,MAAM;2BAAC,0BAA0B,CAAA;;0BAEjC,MAAM;2BAAC,kBAAkB,CAAA;4CAlDrB,SAAS,EAAA,CAAA;sBAFjB,WAAW;uBAAC,gBAAgB,CAAA;;sBAC5B,WAAW;uBAAC,YAAY,CAAA;;;MElBhB,6BAA6B,CAAA;;2HAA7B,6BAA6B,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,QAAA,EAAA,CAAA,CAAA;4HAA7B,6BAA6B,EAAA,YAAA,EAAA,CATvB,gCAAgC,EAAE,kCAAkC,aADzE,uBAAuB,EAAE,mBAAmB,CAAA,EAAA,OAAA,EAAA,CAQ5C,gCAAgC,CAAA,EAAA,CAAA,CAAA;AAEjC,6BAAA,CAAA,IAAA,GAAA,EAAA,CAAA,mBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,6BAA6B,EAR3B,SAAA,EAAA;AACP,QAAA;AACI,YAAA,OAAO,EAAE,mBAAmB;AAC5B,YAAA,QAAQ,EAAE,kCAAkC;AAC/C,SAAA;AACJ,KAAA,EAAA,OAAA,EAAA,CAPQ,CAAC,uBAAuB,EAAE,mBAAmB,CAAC,CAAA,EAAA,CAAA,CAAA;4FAU9C,6BAA6B,EAAA,UAAA,EAAA,CAAA;kBAXzC,QAAQ;AAAC,YAAA,IAAA,EAAA,CAAA;AACN,oBAAA,OAAO,EAAE,CAAC,uBAAuB,EAAE,mBAAmB,CAAC;AACvD,oBAAA,YAAY,EAAE,CAAC,gCAAgC,EAAE,kCAAkC,CAAC;AACpF,oBAAA,SAAS,EAAE;AACP,wBAAA;AACI,4BAAA,OAAO,EAAE,mBAAmB;AAC5B,4BAAA,QAAQ,EAAE,kCAAkC;AAC/C,yBAAA;AACJ,qBAAA;oBACD,OAAO,EAAE,CAAC,gCAAgC,CAAC;AAC9C,iBAAA,CAAA;;;AClBD;;AAEG;;;;"}