{"version":3,"file":"taiga-ui-addon-mobile-components-bottom-sheet.js","sources":["../../../projects/addon-mobile/components/bottom-sheet/bottom-sheet.component.ts","../../../projects/addon-mobile/components/bottom-sheet/bottom-sheet.template.html","../../../projects/addon-mobile/components/bottom-sheet/bottom-sheet.module.ts","../../../projects/addon-mobile/components/bottom-sheet/taiga-ui-addon-mobile-components-bottom-sheet.ts"],"sourcesContent":["import {\n    ChangeDetectionStrategy,\n    Component,\n    ElementRef,\n    Inject,\n    Input,\n    QueryList,\n    ViewChild,\n    ViewChildren,\n} from '@angular/core';\nimport {EMPTY_QUERY} from '@taiga-ui/cdk';\n\nconst OPTIONS = {\n    duration: 20,\n    easing: 'ease-in',\n    fill: 'forwards',\n} as const;\n\n@Component({\n    selector: 'tui-bottom-sheet',\n    templateUrl: './bottom-sheet.template.html',\n    styleUrls: ['./bottom-sheet.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    host: {\n        '[style.--t-start]': 'stops[0]',\n        '[style.scroll-snap-type]': 'stops.length > 1 ? \"y mandatory\" : null',\n        '(scroll.silent)': 'onScroll()',\n    },\n})\nexport class TuiBottomSheetComponent {\n    @ViewChildren('stops')\n    private readonly elements: QueryList<ElementRef<HTMLElement>> = EMPTY_QUERY;\n\n    @ViewChild('content')\n    private readonly content?: ElementRef<HTMLElement>;\n\n    @Input()\n    stops: readonly string[] = ['1.5rem'];\n\n    constructor(@Inject(ElementRef) private readonly el: ElementRef<HTMLElement>) {}\n\n    onScroll(): void {\n        const {clientHeight, scrollTop, scrollHeight} = this.el.nativeElement;\n        const top = this.elements.get(0)?.nativeElement.clientHeight || 0;\n        const max = this.content?.nativeElement.clientHeight || Infinity;\n        const height = Math.min(clientHeight, max);\n        const scrolled = Math.min(scrollTop, height - top);\n        const transform = `translate3d(0, ${-1 * scrolled}px, 0)`;\n\n        this.el.nativeElement.style.setProperty('--t-height', `${scrollHeight}px`);\n        this.el.nativeElement.animate([{transform}], OPTIONS);\n    }\n}\n","<div\n    *ngFor=\"let stop of stops\"\n    #stops\n    class=\"t-stop\"\n    [style.top]=\"stop\"\n></div>\n<div\n    #content\n    class=\"t-content\"\n>\n    <ng-content></ng-content>\n</div>\n<div class=\"t-bottom\"></div>\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\n\nimport {TuiBottomSheetComponent} from './bottom-sheet.component';\n\n@NgModule({\n    imports: [CommonModule],\n    declarations: [TuiBottomSheetComponent],\n    exports: [TuiBottomSheetComponent],\n})\nexport class TuiBottomSheetModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}