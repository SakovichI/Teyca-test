import { DOCUMENT } from '@angular/common';
import { inject, Injectable, InjectionToken } from '@angular/core';
import { AbstractEventPlugin } from './abstract.plugin';
import * as i0 from "@angular/core";
export const GLOBAL_HANDLER = new InjectionToken('[GLOBAL_HANDLER]: Global event target handler', {
    factory: () => {
        const document = inject(DOCUMENT);
        return name => name === 'body'
            ? document.body
            : document.defaultView[name] ||
                document.createElement('div');
    },
});
export class GlobalEventPlugin extends AbstractEventPlugin {
    constructor() {
        super(...arguments);
        this.handler = inject(GLOBAL_HANDLER);
        this.modifier = '>';
    }
    addEventListener(_, event, handler) {
        return this.manager.addEventListener(this.handler(event.split('>')[0]), event.split('>')[1], handler);
    }
}
/** @nocollapse */ GlobalEventPlugin.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: GlobalEventPlugin, deps: null, target: i0.ɵɵFactoryTarget.Injectable });
/** @nocollapse */ GlobalEventPlugin.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: GlobalEventPlugin });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: GlobalEventPlugin, decorators: [{
            type: Injectable
        }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2xvYmFsLnBsdWdpbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL25nLWV2ZW50LXBsdWdpbnMvc3JjL3BsdWdpbnMvZ2xvYmFsLnBsdWdpbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUMsUUFBUSxFQUFDLE1BQU0saUJBQWlCLENBQUM7QUFDekMsT0FBTyxFQUFDLE1BQU0sRUFBRSxVQUFVLEVBQUUsY0FBYyxFQUFDLE1BQU0sZUFBZSxDQUFDO0FBRWpFLE9BQU8sRUFBQyxtQkFBbUIsRUFBQyxNQUFNLG1CQUFtQixDQUFDOztBQUV0RCxNQUFNLENBQUMsTUFBTSxjQUFjLEdBQUcsSUFBSSxjQUFjLENBQzVDLCtDQUErQyxFQUMvQztJQUNJLE9BQU8sRUFBRSxHQUFHLEVBQUU7UUFDVixNQUFNLFFBQVEsR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7UUFFbEMsT0FBTyxJQUFJLENBQUMsRUFBRSxDQUNWLElBQUksS0FBSyxNQUFNO1lBQ1gsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJO1lBQ2YsQ0FBQyxDQUFFLFFBQVEsQ0FBQyxXQUFtQixDQUFDLElBQUksQ0FBQztnQkFDbkMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUM1QyxDQUFDO0NBQ0osQ0FDSixDQUFDO0FBR0YsTUFBTSxPQUFPLGlCQUFrQixTQUFRLG1CQUFtQjtJQUQxRDs7UUFFcUIsWUFBTyxHQUFhLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUN6QyxhQUFRLEdBQUcsR0FBRyxDQUFDO0tBU3JDO0lBUEcsZ0JBQWdCLENBQUMsQ0FBYyxFQUFFLEtBQWEsRUFBRSxPQUFpQjtRQUM3RCxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLENBQ2hDLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUNqQyxLQUFLLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUNuQixPQUFPLENBQ1YsQ0FBQztJQUNOLENBQUM7O2tJQVZRLGlCQUFpQjtzSUFBakIsaUJBQWlCOzRGQUFqQixpQkFBaUI7a0JBRDdCLFVBQVUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0RPQ1VNRU5UfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xyXG5pbXBvcnQge2luamVjdCwgSW5qZWN0YWJsZSwgSW5qZWN0aW9uVG9rZW59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5cclxuaW1wb3J0IHtBYnN0cmFjdEV2ZW50UGx1Z2lufSBmcm9tICcuL2Fic3RyYWN0LnBsdWdpbic7XHJcblxyXG5leHBvcnQgY29uc3QgR0xPQkFMX0hBTkRMRVIgPSBuZXcgSW5qZWN0aW9uVG9rZW48KG5hbWU6IHN0cmluZykgPT4gRXZlbnRUYXJnZXQ+KFxyXG4gICAgJ1tHTE9CQUxfSEFORExFUl06IEdsb2JhbCBldmVudCB0YXJnZXQgaGFuZGxlcicsXHJcbiAgICB7XHJcbiAgICAgICAgZmFjdG9yeTogKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBkb2N1bWVudCA9IGluamVjdChET0NVTUVOVCk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gbmFtZSA9PlxyXG4gICAgICAgICAgICAgICAgbmFtZSA9PT0gJ2JvZHknXHJcbiAgICAgICAgICAgICAgICAgICAgPyBkb2N1bWVudC5ib2R5XHJcbiAgICAgICAgICAgICAgICAgICAgOiAoZG9jdW1lbnQuZGVmYXVsdFZpZXcgYXMgYW55KVtuYW1lXSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgfSxcclxuICAgIH0sXHJcbik7XHJcblxyXG5ASW5qZWN0YWJsZSgpXHJcbmV4cG9ydCBjbGFzcyBHbG9iYWxFdmVudFBsdWdpbiBleHRlbmRzIEFic3RyYWN0RXZlbnRQbHVnaW4ge1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBoYW5kbGVyOiBGdW5jdGlvbiA9IGluamVjdChHTE9CQUxfSEFORExFUik7XHJcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgbW9kaWZpZXIgPSAnPic7XHJcblxyXG4gICAgYWRkRXZlbnRMaXN0ZW5lcihfOiBIVE1MRWxlbWVudCwgZXZlbnQ6IHN0cmluZywgaGFuZGxlcjogRnVuY3Rpb24pOiBGdW5jdGlvbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWFuYWdlci5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZXIoZXZlbnQuc3BsaXQoJz4nKVswXSksXHJcbiAgICAgICAgICAgIGV2ZW50LnNwbGl0KCc+JylbMV0sXHJcbiAgICAgICAgICAgIGhhbmRsZXIsXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG4iXX0=