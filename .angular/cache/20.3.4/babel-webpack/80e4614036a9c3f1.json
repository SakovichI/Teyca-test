{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { EventEmitter, Component, ChangeDetectionStrategy, Input, Output, NgModule } from '@angular/core';\nimport * as i4 from '@taiga-ui/cdk';\nimport { TuiMonth, TUI_FIRST_DAY, TUI_LAST_DAY, TuiFocusableModule } from '@taiga-ui/cdk';\nimport * as i1 from '@taiga-ui/core/components/primitive-spin-button';\nimport { TuiPrimitiveSpinButtonModule } from '@taiga-ui/core/components/primitive-spin-button';\nimport * as i2 from '@taiga-ui/core/components/link';\nimport { TuiLinkModule } from '@taiga-ui/core/components/link';\nimport * as i3 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i5 from '@taiga-ui/core/pipes';\nimport { TuiMonthPipeModule } from '@taiga-ui/core/pipes';\nfunction TuiPrimitiveYearMonthPaginationComponent_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.value.formattedYear, \" \");\n  }\n}\nfunction TuiPrimitiveYearMonthPaginationComponent_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function TuiPrimitiveYearMonthPaginationComponent_ng_template_5_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onYearClick());\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"tuiFocusable\", false);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.value.formattedYear, \" \");\n  }\n}\nlet TuiPrimitiveYearMonthPaginationComponent = /*#__PURE__*/(() => {\n  class TuiPrimitiveYearMonthPaginationComponent {\n    constructor() {\n      this.value = TuiMonth.currentLocal();\n      this.min = TUI_FIRST_DAY;\n      this.max = TUI_LAST_DAY;\n      this.valueChange = new EventEmitter();\n      this.yearClick = new EventEmitter();\n    }\n    get computedMin() {\n      var _a;\n      return (_a = this.min) !== null && _a !== void 0 ? _a : TUI_FIRST_DAY;\n    }\n    get computedMax() {\n      var _a;\n      return (_a = this.max) !== null && _a !== void 0 ? _a : TUI_LAST_DAY;\n    }\n    get prevMonthDisabled() {\n      return this.value.monthSameOrBefore(this.computedMin);\n    }\n    get nextMonthDisabled() {\n      return this.value.monthSameOrAfter(this.computedMax);\n    }\n    get oneYear() {\n      const {\n        computedMin,\n        computedMax\n      } = this;\n      return computedMin.year === computedMax.year;\n    }\n    onYearClick() {\n      this.yearClick.next(this.value);\n    }\n    onPrevMonthClick() {\n      this.appendValueWithLimit({\n        month: -1\n      });\n    }\n    onNextMonthClick() {\n      this.appendValueWithLimit({\n        month: 1\n      });\n    }\n    appendValueWithLimit(date) {\n      const newMonth = this.value.append(date);\n      const {\n        computedMin,\n        computedMax\n      } = this;\n      if (computedMin.monthSameOrAfter(newMonth)) {\n        this.updateValue(computedMin);\n        return;\n      }\n      this.updateValue(computedMax.monthSameOrBefore(newMonth) ? computedMax : newMonth);\n    }\n    updateValue(value) {\n      if (this.value.monthSame(value)) {\n        return;\n      }\n      this.value = value;\n      this.valueChange.emit(value);\n    }\n  }\n  TuiPrimitiveYearMonthPaginationComponent.ɵfac = function TuiPrimitiveYearMonthPaginationComponent_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || TuiPrimitiveYearMonthPaginationComponent)();\n  };\n  TuiPrimitiveYearMonthPaginationComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiPrimitiveYearMonthPaginationComponent,\n    selectors: [[\"tui-primitive-year-month-pagination\"]],\n    inputs: {\n      value: \"value\",\n      min: \"min\",\n      max: \"max\"\n    },\n    outputs: {\n      valueChange: \"valueChange\",\n      yearClick: \"yearClick\"\n    },\n    standalone: false,\n    decls: 7,\n    vars: 10,\n    consts: [[\"button\", \"\"], [3, \"leftClick\", \"rightClick\", \"focusable\", \"leftDisabled\", \"rightDisabled\"], [4, \"ngIf\", \"ngIfElse\"], [\"id\", \"year-btn\", \"automation-id\", \"tui-primitive-year-month-pagination__year-button\", \"tuiLink\", \"\", \"type\", \"button\", 3, \"click\", \"tuiFocusable\"]],\n    template: function TuiPrimitiveYearMonthPaginationComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r1 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"tui-primitive-spin-button\", 1);\n        i0.ɵɵlistener(\"leftClick\", function TuiPrimitiveYearMonthPaginationComponent_Template_tui_primitive_spin_button_leftClick_0_listener() {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.onPrevMonthClick());\n        })(\"rightClick\", function TuiPrimitiveYearMonthPaginationComponent_Template_tui_primitive_spin_button_rightClick_0_listener() {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.onNextMonthClick());\n        });\n        i0.ɵɵtext(1);\n        i0.ɵɵpipe(2, \"tuiMonth\");\n        i0.ɵɵpipe(3, \"async\");\n        i0.ɵɵtemplate(4, TuiPrimitiveYearMonthPaginationComponent_ng_container_4_Template, 2, 1, \"ng-container\", 2)(5, TuiPrimitiveYearMonthPaginationComponent_ng_template_5_Template, 2, 2, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        const button_r4 = i0.ɵɵreference(6);\n        i0.ɵɵproperty(\"focusable\", false)(\"leftDisabled\", ctx.prevMonthDisabled)(\"rightDisabled\", ctx.nextMonthDisabled);\n        i0.ɵɵadvance();\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 8, i0.ɵɵpipeBind1(2, 6, ctx.value)), \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.oneYear)(\"ngIfElse\", button_r4);\n      }\n    },\n    dependencies: [i1.TuiPrimitiveSpinButtonComponent, i2.TuiLinkComponent, i3.NgIf, i4.TuiFocusableDirective, i3.AsyncPipe, i5.TuiMonthPipe],\n    styles: [\"[_nghost-%COMP%]{display:block}\"],\n    changeDetection: 0\n  });\n  return TuiPrimitiveYearMonthPaginationComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiPrimitiveYearMonthPaginationModule = /*#__PURE__*/(() => {\n  class TuiPrimitiveYearMonthPaginationModule {}\n  TuiPrimitiveYearMonthPaginationModule.ɵfac = function TuiPrimitiveYearMonthPaginationModule_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || TuiPrimitiveYearMonthPaginationModule)();\n  };\n  TuiPrimitiveYearMonthPaginationModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiPrimitiveYearMonthPaginationModule\n  });\n  TuiPrimitiveYearMonthPaginationModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiFocusableModule, TuiPrimitiveSpinButtonModule, TuiLinkModule, TuiMonthPipeModule]]\n  });\n  return TuiPrimitiveYearMonthPaginationModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiPrimitiveYearMonthPaginationComponent, TuiPrimitiveYearMonthPaginationModule };\n//# sourceMappingURL=taiga-ui-core-internal-primitive-year-month-pagination.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}