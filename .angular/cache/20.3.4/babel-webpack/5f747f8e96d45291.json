{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { Component, ViewEncapsulation, ChangeDetectionStrategy, ElementRef, NgZone, Directive, Self, Inject, Input, HostBinding, NgModule } from '@angular/core';\nimport { MutationObserverService, MUTATION_OBSERVER_INIT } from '@ng-web-apis/mutation-observer';\nimport * as i2 from '@taiga-ui/cdk';\nimport { tuiZonefree, TuiDestroyService, TuiResizeService, TuiDirectiveStylesService } from '@taiga-ui/cdk';\nimport * as i1 from 'rxjs';\nimport { merge, fromEvent } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nlet TuiFadeComponent = /*#__PURE__*/(() => {\n  class TuiFadeComponent {}\n  TuiFadeComponent.ɵfac = function TuiFadeComponent_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || TuiFadeComponent)();\n  };\n  TuiFadeComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiFadeComponent,\n    selectors: [[\"ng-component\"]],\n    hostAttrs: [1, \"tui-fade-styles\"],\n    standalone: false,\n    decls: 0,\n    vars: 0,\n    template: function TuiFadeComponent_Template(rf, ctx) {},\n    styles: [\"[tuiFade]{scrollbar-width:none;-ms-overflow-style:none;transition-property:-webkit-mask-position;transition-property:mask-position;transition-property:mask-position,-webkit-mask-position;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;overflow:auto;text-overflow:unset!important;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat}[tuiFade]::-webkit-scrollbar,[tuiFade]::-webkit-scrollbar-thumb{display:none}[tuiFade]:not([data-orientation=\\\"vertical\\\"]){overflow-y:hidden;-webkit-mask-image:linear-gradient(to right,transparent var(--fade-offset),#000 calc(var(--fade-size) + var(--fade-offset))),linear-gradient(to left,transparent var(--fade-offset),#000 calc(var(--fade-size) + var(--fade-offset))),linear-gradient(#000,#000);mask-image:linear-gradient(to right,transparent var(--fade-offset),#000 calc(var(--fade-size) + var(--fade-offset))),linear-gradient(to left,transparent var(--fade-offset),#000 calc(var(--fade-size) + var(--fade-offset))),linear-gradient(#000,#000);-webkit-mask-position:calc(-1 * var(--fade-size) - var(--fade-offset)) bottom,calc(100% + var(--fade-size) + var(--fade-offset)) bottom,top;mask-position:calc(-1 * var(--fade-size) - var(--fade-offset)) bottom,calc(100% + var(--fade-size) + var(--fade-offset)) bottom,top;-webkit-mask-size:calc(51% + var(--fade-size) + var(--fade-offset)) var(--line-height, 100%),calc(50% + var(--fade-size) + var(--fade-offset)) var(--line-height, 100%),100% calc(100% - var(--line-height, 100%));mask-size:calc(51% + var(--fade-size) + var(--fade-offset)) var(--line-height, 100%),calc(50% + var(--fade-size) + var(--fade-offset)) var(--line-height, 100%),100% calc(100% - var(--line-height, 100%))}[tuiFade]:not([data-orientation=\\\"vertical\\\"])._start{-webkit-mask-position:left bottom,calc(100% + var(--fade-size) + var(--fade-offset)) bottom,top;mask-position:left bottom,calc(100% + var(--fade-size) + var(--fade-offset)) bottom,top}[tuiFade]:not([data-orientation=\\\"vertical\\\"])._end{-webkit-mask-position:calc(-1 * var(--fade-size) - var(--fade-offset)) bottom,right bottom,top;mask-position:calc(-1 * var(--fade-size) - var(--fade-offset)) bottom,right bottom,top}[tuiFade]:not([data-orientation=\\\"vertical\\\"])._start._end{-webkit-mask-position:left bottom,right bottom,top;mask-position:left bottom,right bottom,top}[tuiFade][data-orientation=vertical]{overflow-x:hidden;-webkit-mask-image:linear-gradient(to bottom,transparent var(--fade-offset),#000 calc(var(--fade-size) + var(--fade-offset))),linear-gradient(to top,transparent var(--fade-offset),#000 calc(var(--fade-size) + var(--fade-offset)));mask-image:linear-gradient(to bottom,transparent var(--fade-offset),#000 calc(var(--fade-size) + var(--fade-offset))),linear-gradient(to top,transparent var(--fade-offset),#000 calc(var(--fade-size) + var(--fade-offset)));-webkit-mask-position:left calc(-1 * var(--fade-size) - var(--fade-offset)),left calc(100% + var(--fade-size) + var(--fade-offset));mask-position:left calc(-1 * var(--fade-size) - var(--fade-offset)),left calc(100% + var(--fade-size) + var(--fade-offset));-webkit-mask-size:100% calc(51% + var(--fade-size) + var(--fade-offset));mask-size:100% calc(51% + var(--fade-size) + var(--fade-offset))}[tuiFade][data-orientation=vertical]._start{-webkit-mask-position:left top,left calc(100% + var(--fade-size) + var(--fade-offset));mask-position:left top,left calc(100% + var(--fade-size) + var(--fade-offset))}[tuiFade][data-orientation=vertical]._end{-webkit-mask-position:left calc(-1 * var(--fade-size) - var(--fade-offset)),left bottom;mask-position:left calc(-1 * var(--fade-size) - var(--fade-offset)),left bottom}[tuiFade][data-orientation=vertical]._start._end{-webkit-mask-position:left top,left bottom;mask-position:left top,left bottom}\\n\"],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return TuiFadeComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst BUFFER = 1; // buffer for rounding issues\nlet TuiFadeDirective = /*#__PURE__*/(() => {\n  class TuiFadeDirective {\n    constructor(destroy$, resize$, mutate$, element, zone, directiveStyles) {\n      // TODO: Remove when lh CSS units are supported: https://caniuse.com/mdn-css_types_length_lh\n      this.lineHeight = null;\n      this.size = '1.5em';\n      this.offset = '0em';\n      this.orientation = 'horizontal';\n      const el = element.nativeElement;\n      directiveStyles.addComponent(TuiFadeComponent);\n      merge(resize$, mutate$, fromEvent(el, 'scroll')).pipe(tuiZonefree(zone), takeUntil(destroy$)).subscribe(() => {\n        el.classList.toggle('_start', !!el.scrollLeft || !!el.scrollTop);\n        el.classList.toggle('_end', this.isEnd(el));\n      });\n    }\n    isEnd(el) {\n      if (this.orientation === 'vertical') {\n        return Math.round(el.scrollTop) < el.scrollHeight - el.clientHeight - BUFFER;\n      }\n      return Math.round(el.scrollLeft) < el.scrollWidth - el.clientWidth - BUFFER ||\n      // horizontal multiline fade can kick in early due to hanging elements of fonts so using bigger buffer\n      el.scrollHeight > el.clientHeight + 4 * BUFFER;\n    }\n  }\n  TuiFadeDirective.ɵfac = function TuiFadeDirective_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || TuiFadeDirective)(i0.ɵɵdirectiveInject(TuiDestroyService, 2), i0.ɵɵdirectiveInject(TuiResizeService), i0.ɵɵdirectiveInject(MutationObserverService), i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(NgZone), i0.ɵɵdirectiveInject(TuiDirectiveStylesService));\n  };\n  TuiFadeDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiFadeDirective,\n    selectors: [[\"\", \"tuiFade\", \"\"]],\n    hostVars: 9,\n    hostBindings: function TuiFadeDirective_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵattribute(\"data-orientation\", ctx.orientation);\n        i0.ɵɵstyleProp(\"line-height\", ctx.lineHeight)(\"--line-height\", ctx.lineHeight)(\"--fade-size\", ctx.size)(\"--fade-offset\", ctx.offset);\n      }\n    },\n    inputs: {\n      lineHeight: [0, \"tuiFadeHeight\", \"lineHeight\"],\n      size: [0, \"tuiFadeSize\", \"size\"],\n      offset: [0, \"tuiFadeOffset\", \"offset\"],\n      orientation: [0, \"tuiFade\", \"orientation\"]\n    },\n    standalone: false,\n    features: [i0.ɵɵProvidersFeature([TuiDestroyService, TuiResizeService, MutationObserverService, {\n      provide: MUTATION_OBSERVER_INIT,\n      useValue: {\n        characterData: true,\n        subtree: true\n      }\n    }])]\n  });\n  return TuiFadeDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiFadeModule = /*#__PURE__*/(() => {\n  class TuiFadeModule {}\n  TuiFadeModule.ɵfac = function TuiFadeModule_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || TuiFadeModule)();\n  };\n  TuiFadeModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiFadeModule\n  });\n  TuiFadeModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiFadeModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiFadeComponent, TuiFadeDirective, TuiFadeModule };\n//# sourceMappingURL=taiga-ui-experimental-directives-fade.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}