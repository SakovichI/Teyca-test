{"ast":null,"code":"import { DestroyRef, inject, viewChild } from '@angular/core';\nimport { RouterLink, RouterOutlet } from '@angular/router';\nimport { AuthService } from '../../../auth/services';\nimport { ClientsServices } from './services/clients/clients.service';\nimport { TuiAvatarModule } from '@taiga-ui/kit';\nimport { TuiButtonModule } from '@taiga-ui/core';\nimport { ClientsFilterComponent, ClientsTableComponent } from './components';\nimport { ClientsListDataSourceService } from './services';\nimport { TableSelectionService } from '../../../core/services';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@taiga-ui/core\";\nfunction ClientsComponent_Conditional_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"span\", 10);\n    i0.ɵɵtext(2, \" \\u041F\\u043E\\u0438\\u0441\\u043A \\u043D\\u0435 \\u0434\\u0430\\u043B \\u0440\\u0435\\u0437\\u0443\\u043B\\u044C\\u0442\\u0430\\u0442\\u043E\\u0432\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport let ClientsComponent = /*#__PURE__*/(() => {\n  class ClientsComponent {\n    destroyRef = inject(DestroyRef);\n    #authService = inject(AuthService);\n    #clientService = inject(ClientsServices);\n    #clientsListDataSourceService = inject(ClientsListDataSourceService);\n    $data = this.#clientsListDataSourceService.$data;\n    $isEmptyData = this.#clientsListDataSourceService.$isEmptyData;\n    $isLoading = this.#clientsListDataSourceService.$isLoading;\n    $pagesLength = this.#clientsListDataSourceService.$pagesLength;\n    $pageIndex = this.#clientsListDataSourceService.$pageIndex;\n    $tableComponent = viewChild.required(ClientsTableComponent);\n    $filterComponent = viewChild.required(ClientsFilterComponent);\n    ngOnInit() {\n      this.#initDataSource();\n    }\n    onLogout() {\n      this.#authService.logout();\n    }\n    onTriggerAction(selectedClients) {\n      this.#clientService.openPushMessageDialog(selectedClients);\n    }\n    #initDataSource() {\n      this.#clientsListDataSourceService.initDataSource({\n        tableComponent: this.$tableComponent(),\n        form: this.$filterComponent().form\n      });\n    }\n    static ɵfac = function ClientsComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || ClientsComponent)();\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ClientsComponent,\n      selectors: [[\"app-clients\"]],\n      viewQuery: function ClientsComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuerySignal(ctx.$tableComponent, ClientsTableComponent, 5);\n          i0.ɵɵviewQuerySignal(ctx.$filterComponent, ClientsFilterComponent, 5);\n        }\n        if (rf & 2) {\n          i0.ɵɵqueryAdvance(2);\n        }\n      },\n      features: [i0.ɵɵProvidersFeature([ClientsServices, ClientsListDataSourceService, TableSelectionService])],\n      decls: 17,\n      vars: 6,\n      consts: [[1, \"header\"], [\"type\", \"button\", \"tuiButton\", \"\", \"size\", \"s\", \"icon\", \"tuiIconLogInLarge\", \"appearance\", \"outline\", \"title\", \"logout\", 3, \"click\"], [1, \"content\"], [1, \"heading\"], [1, \"tui-text_h4\"], [1, \"subtitle\", \"tui-text_body-m-2\"], [\"type\", \"button\", \"tuiButton\", \"\", \"size\", \"s\", \"icon\", \"tuiIconPlusLarge\", \"title\", \"add client\", \"routerLink\", \"new\"], [1, \"empty-data\"], [1, \"table\", 3, \"hidden\"], [3, \"actionClicked\", \"data\", \"isLoading\", \"pageIndex\", \"pagesLength\"], [1, \"tui-text_h3\"]],\n      template: function ClientsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"header\", 0)(1, \"button\", 1);\n          i0.ɵɵlistener(\"click\", function ClientsComponent_Template_button_click_1_listener() {\n            return ctx.onLogout();\n          });\n          i0.ɵɵtext(2, \" \\u0412\\u044B\\u0439\\u0442\\u0438 \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(3, \"main\", 2)(4, \"div\", 3)(5, \"div\")(6, \"h1\", 4);\n          i0.ɵɵtext(7, \"\\u0422\\u0430\\u0431\\u043B\\u0438\\u0446\\u0430 \\u043A\\u043B\\u0438\\u0435\\u043D\\u0442\\u043E\\u0432\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"p\", 5);\n          i0.ɵɵtext(9, \" \\u0412 \\u044D\\u0442\\u043E\\u043C \\u0440\\u0430\\u0437\\u0434\\u0435\\u043B\\u0435 \\u0443 \\u0432\\u0430\\u0441 \\u0435\\u0441\\u0442\\u044C \\u0432\\u043E\\u0437\\u043C\\u043E\\u0436\\u043D\\u043E\\u0441\\u0442\\u044C \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043B\\u044F\\u0442\\u044C \\u0440\\u0430\\u0441\\u0441\\u044B\\u043B\\u043A\\u0438, \\u0430 \\u0442\\u0430\\u043A\\u0436\\u0435 \\u0440\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044E \\u043E \\u0432\\u0430\\u0448\\u0438\\u0445 \\u043A\\u043B\\u0438\\u0435\\u043D\\u0442\\u0430\\u0445. \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(10, \"button\", 6);\n          i0.ɵɵtext(11, \" \\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043A\\u043B\\u0438\\u0435\\u043D\\u0442\\u0430 \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(12, \"app-clients-filter\");\n          i0.ɵɵconditionalCreate(13, ClientsComponent_Conditional_13_Template, 3, 0, \"div\", 7);\n          i0.ɵɵelementStart(14, \"div\", 8)(15, \"app-clients-table\", 9);\n          i0.ɵɵlistener(\"actionClicked\", function ClientsComponent_Template_app_clients_table_actionClicked_15_listener($event) {\n            return ctx.onTriggerAction($event);\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(16, \"router-outlet\");\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(13);\n          i0.ɵɵconditional(ctx.$isEmptyData() ? 13 : -1);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"hidden\", ctx.$isEmptyData());\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"data\", ctx.$data())(\"isLoading\", ctx.$isLoading())(\"pageIndex\", ctx.$pageIndex())(\"pagesLength\", ctx.$pagesLength());\n        }\n      },\n      dependencies: [TuiAvatarModule, TuiButtonModule, i1.TuiButtonComponent, ClientsTableComponent, RouterLink, RouterOutlet, ClientsFilterComponent],\n      styles: [\"[_nghost-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-1-5x);align-items:flex-start;background-color:var(--tui-base-01);border-radius:var(--border-radius-xl)}.header[_ngcontent-%COMP%]{padding:var(--spacing-3x);display:flex;align-items:center;justify-content:end;width:100%;border-bottom:1px solid #e5e5e5}.heading[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between}.heading[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{max-width:500px}.heading[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin-top:var(--spacing-2x);color:#999}.content[_ngcontent-%COMP%]{width:100%;padding:var(--spacing-3x)}.table[_ngcontent-%COMP%]{margin-top:var(--spacing-6x);box-shadow:0 0 20px #00000014;border-radius:var(--border-radius-l)}.empty-data[_ngcontent-%COMP%]{padding:var(--spacing-6x);display:flex;align-items:center;justify-content:center}\"],\n      changeDetection: 0\n    });\n  }\n  return ClientsComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}