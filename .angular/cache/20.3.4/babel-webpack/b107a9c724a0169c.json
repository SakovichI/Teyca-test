{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { Injector, INJECTOR, ChangeDetectorRef, Component, ViewEncapsulation, ChangeDetectionStrategy, Inject, Self, NgModule } from '@angular/core';\nimport { TUI_PARENT_ANIMATION } from '@taiga-ui/cdk/constants';\nimport { TuiDestroyService } from '@taiga-ui/cdk/services';\nimport { TUI_ALERTS } from '@taiga-ui/cdk/tokens';\nimport { POLYMORPHEUS_CONTEXT } from '@tinkoff/ng-polymorpheus';\nimport * as i3 from 'rxjs';\nimport { combineLatest } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport * as i1 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i2 from '@taiga-ui/cdk/pipes';\nimport { TuiMapperPipeModule } from '@taiga-ui/cdk/pipes';\nfunction TuiAlertHostComponent_div_0_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0, 3);\n    i0.ɵɵpipe(1, \"tuiMapper\");\n  }\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngComponentOutlet\", item_r1.component.component)(\"ngComponentOutletInjector\", i0.ɵɵpipeBind2(1, 2, item_r1, ctx_r1.mapper));\n  }\n}\nfunction TuiAlertHostComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵtemplate(1, TuiAlertHostComponent_div_0_ng_container_1_Template, 2, 5, \"ng-container\", 2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const alert_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"@tuiParentAnimation\", undefined);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", alert_r3);\n  }\n}\nlet TuiAlertHostComponent = /*#__PURE__*/(() => {\n  class TuiAlertHostComponent {\n    constructor(allAlerts, injector, destroy$, cdr) {\n      this.allAlerts = allAlerts;\n      this.injector = injector;\n      this.destroy$ = destroy$;\n      this.cdr = cdr;\n      this.alerts = [];\n      this.trackBy = index => index;\n      this.mapper = useValue => Injector.create({\n        providers: [{\n          provide: POLYMORPHEUS_CONTEXT,\n          useValue\n        }],\n        parent: this.injector\n      });\n    }\n    ngOnInit() {\n      // Due to this view being parallel to app content, `markForCheck` from `async` pipe\n      // can happen after view was checked, so calling `detectChanges` instead\n      combineLatest(this.allAlerts).pipe(takeUntil(this.destroy$)).subscribe(alerts => {\n        this.alerts = alerts;\n        this.cdr.detectChanges();\n      });\n    }\n  }\n  TuiAlertHostComponent.ɵfac = function TuiAlertHostComponent_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || TuiAlertHostComponent)(i0.ɵɵdirectiveInject(TUI_ALERTS), i0.ɵɵdirectiveInject(INJECTOR), i0.ɵɵdirectiveInject(TuiDestroyService, 2), i0.ɵɵdirectiveInject(ChangeDetectorRef));\n  };\n  TuiAlertHostComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiAlertHostComponent,\n    selectors: [[\"tui-alert-host\"]],\n    standalone: false,\n    features: [i0.ɵɵProvidersFeature([TuiDestroyService])],\n    decls: 1,\n    vars: 2,\n    consts: [[\"class\", \"t-wrapper\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [1, \"t-wrapper\"], [3, \"ngComponentOutlet\", \"ngComponentOutletInjector\", 4, \"ngFor\", \"ngForOf\"], [3, \"ngComponentOutlet\", \"ngComponentOutletInjector\"]],\n    template: function TuiAlertHostComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, TuiAlertHostComponent_div_0_Template, 2, 2, \"div\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngForOf\", ctx.alerts)(\"ngForTrackBy\", ctx.trackBy);\n      }\n    },\n    dependencies: [i1.NgForOf, i1.NgComponentOutlet, i2.TuiMapperPipe],\n    styles: [\"tui-alert-host>.t-wrapper{position:fixed;top:0;left:0;display:flex;width:100%;height:100%;flex-direction:column;pointer-events:none;box-sizing:border-box;padding:env(safe-area-inset-top) 0 env(safe-area-inset-bottom)}tui-alert-host>.t-wrapper>*{pointer-events:auto}\\n\"],\n    encapsulation: 2,\n    data: {\n      animation: [TUI_PARENT_ANIMATION]\n    }\n  });\n  return TuiAlertHostComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiAlertHostModule = /*#__PURE__*/(() => {\n  class TuiAlertHostModule {}\n  TuiAlertHostModule.ɵfac = function TuiAlertHostModule_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || TuiAlertHostModule)();\n  };\n  TuiAlertHostModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiAlertHostModule\n  });\n  TuiAlertHostModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiMapperPipeModule]]\n  });\n  return TuiAlertHostModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiAlertHostComponent, TuiAlertHostModule };\n//# sourceMappingURL=taiga-ui-cdk-components-alert-host.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}