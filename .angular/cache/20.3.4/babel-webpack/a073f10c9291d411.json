{"ast":null,"code":"import { __decorate } from 'tslib';\nimport * as i0 from '@angular/core';\nimport { ElementRef, Directive, Inject, Output, Component, ChangeDetectionStrategy, HostBinding, NgModule } from '@angular/core';\nimport { shouldCall } from '@tinkoff/ng-event-plugins';\nimport { MutationObserverService, MUTATION_OBSERVER_INIT } from '@ng-web-apis/mutation-observer';\nimport { ResizeObserverService } from '@ng-web-apis/resize-observer';\nimport * as i1 from 'rxjs';\nimport { merge } from 'rxjs';\nimport { debounceTime, map, distinctUntilChanged } from 'rxjs/operators';\nconst _c0 = [\"*\"];\nlet TuiElasticContainerDirective = /*#__PURE__*/(() => {\n  class TuiElasticContainerDirective {\n    constructor(el, resize$, mutation$) {\n      this.el = el;\n      this.resize$ = resize$;\n      this.mutation$ = mutation$;\n      this.tuiElasticContainer = merge(this.resize$, this.mutation$).pipe(debounceTime(0), map(() => this.el.nativeElement.clientHeight - 1), distinctUntilChanged());\n    }\n  }\n  TuiElasticContainerDirective.ɵfac = function TuiElasticContainerDirective_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || TuiElasticContainerDirective)(i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(ResizeObserverService), i0.ɵɵdirectiveInject(MutationObserverService));\n  };\n  TuiElasticContainerDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiElasticContainerDirective,\n    selectors: [[\"\", \"tuiElasticContainer\", \"\"]],\n    outputs: {\n      tuiElasticContainer: \"tuiElasticContainer\"\n    },\n    standalone: false,\n    features: [i0.ɵɵProvidersFeature([ResizeObserverService, MutationObserverService, {\n      provide: MUTATION_OBSERVER_INIT,\n      useValue: {\n        childList: true,\n        characterData: true,\n        subtree: true\n      }\n    }])]\n  });\n  return TuiElasticContainerDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiElasticContainerComponent = /*#__PURE__*/(() => {\n  class TuiElasticContainerComponent {\n    constructor() {\n      this.height = NaN;\n      this.transitions = 0;\n    }\n    onAnimation(_name, count) {\n      this.transitions += count;\n    }\n  }\n  TuiElasticContainerComponent.ɵfac = function TuiElasticContainerComponent_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || TuiElasticContainerComponent)();\n  };\n  TuiElasticContainerComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiElasticContainerComponent,\n    selectors: [[\"tui-elastic-container\"]],\n    hostVars: 4,\n    hostBindings: function TuiElasticContainerComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵstyleProp(\"height\", ctx.height, \"px\");\n        i0.ɵɵclassProp(\"_transitioning\", ctx.transitions);\n      }\n    },\n    standalone: false,\n    ngContentSelectors: _c0,\n    decls: 2,\n    vars: 0,\n    consts: [[1, \"t-wrapper\", 3, \"transitioncancel.silent\", \"transitionend.silent\", \"transitionstart.silent\", \"tuiElasticContainer\"]],\n    template: function TuiElasticContainerComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef();\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵlistener(\"transitioncancel.silent\", function TuiElasticContainerComponent_Template_div_transitioncancel_silent_0_listener($event) {\n          return ctx.onAnimation($event.propertyName, -1);\n        })(\"transitionend.silent\", function TuiElasticContainerComponent_Template_div_transitionend_silent_0_listener($event) {\n          return ctx.onAnimation($event.propertyName, -1);\n        })(\"transitionstart.silent\", function TuiElasticContainerComponent_Template_div_transitionstart_silent_0_listener($event) {\n          return ctx.onAnimation($event.propertyName, 1);\n        })(\"tuiElasticContainer\", function TuiElasticContainerComponent_Template_div_tuiElasticContainer_0_listener($event) {\n          return ctx.height = $event;\n        });\n        i0.ɵɵprojection(1);\n        i0.ɵɵelementEnd();\n      }\n    },\n    dependencies: [TuiElasticContainerDirective],\n    styles: [\"[_nghost-%COMP%]{transition-property:height;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;display:block;overflow:hidden}._transitioning[_nghost-%COMP%]{height:auto!important}.t-wrapper[_ngcontent-%COMP%]{padding-top:1px;margin-top:-1px}\"],\n    changeDetection: 0\n  });\n  __decorate([shouldCall(name => name === 'height')], TuiElasticContainerComponent.prototype, \"onAnimation\", null);\n  return TuiElasticContainerComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiElasticContainerModule = /*#__PURE__*/(() => {\n  class TuiElasticContainerModule {}\n  TuiElasticContainerModule.ɵfac = function TuiElasticContainerModule_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || TuiElasticContainerModule)();\n  };\n  TuiElasticContainerModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiElasticContainerModule\n  });\n  TuiElasticContainerModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiElasticContainerModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiElasticContainerComponent, TuiElasticContainerDirective, TuiElasticContainerModule };\n//# sourceMappingURL=taiga-ui-kit-components-elastic-container.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}