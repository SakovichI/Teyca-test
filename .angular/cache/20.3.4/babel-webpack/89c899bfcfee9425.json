{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { EventEmitter, Component, ChangeDetectionStrategy, Inject, Input, Output, NgModule } from '@angular/core';\nimport { TUI_TABLE_PAGINATION_TEXTS } from '@taiga-ui/addon-table/tokens';\nimport * as i1 from '@taiga-ui/core';\nimport { TUI_SPIN_ICONS, TUI_SPIN_TEXTS, TUI_COMMON_ICONS, TuiButtonModule, TuiLinkModule, TuiHostedDropdownModule, TuiDataListModule, TuiSvgModule } from '@taiga-ui/core';\nimport { tuiCreateToken, tuiProvideOptions } from '@taiga-ui/cdk';\nimport * as i2 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i3 from '@tinkoff/ng-polymorpheus';\nimport { PolymorpheusModule } from '@tinkoff/ng-polymorpheus';\nimport * as i4 from 'rxjs';\nconst _c0 = (a0, a1) => ({\n  $implicit: a0,\n  total: a1\n});\nfunction TuiTablePaginationComponent_ng_container_0_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"strong\", 8);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const texts_r2 = i0.ɵɵnextContext().ngIf;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", texts_r2.pages, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r2.pages);\n  }\n}\nfunction TuiTablePaginationComponent_ng_container_0_button_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 9)(1, \"strong\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r2.start + 1, \"\\u2013\", ctx_r2.end);\n  }\n}\nfunction TuiTablePaginationComponent_ng_container_0_ng_template_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"strong\");\n    i0.ɵɵtext(1, \"0 - 0\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TuiTablePaginationComponent_ng_container_0_ng_template_9_ng_container_1_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const text_r6 = ctx.polymorpheusOutlet;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", text_r6, \" \");\n  }\n}\nfunction TuiTablePaginationComponent_ng_container_0_ng_template_9_ng_container_1_tui_svg_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-svg\", 15);\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(4);\n    i0.ɵɵproperty(\"src\", ctx_r2.commonIcons.check);\n  }\n}\nfunction TuiTablePaginationComponent_ng_container_0_ng_template_9_ng_container_1_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 16);\n  }\n}\nfunction TuiTablePaginationComponent_ng_container_0_ng_template_9_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function TuiTablePaginationComponent_ng_container_0_ng_template_9_ng_container_1_Template_button_click_1_listener() {\n      const item_r5 = i0.ɵɵrestoreView(_r4).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r2.onItem(item_r5));\n    });\n    i0.ɵɵtemplate(2, TuiTablePaginationComponent_ng_container_0_ng_template_9_ng_container_1_ng_container_2_Template, 2, 1, \"ng-container\", 13)(3, TuiTablePaginationComponent_ng_container_0_ng_template_9_ng_container_1_tui_svg_3_Template, 1, 1, \"tui-svg\", 14)(4, TuiTablePaginationComponent_ng_container_0_ng_template_9_ng_container_1_ng_template_4_Template, 1, 0, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const item_r5 = ctx.$implicit;\n    const fakeIcon_r7 = i0.ɵɵreference(5);\n    const ctx_r2 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"polymorpheusOutlet\", ctx_r2.options.sizeOptionContent)(\"polymorpheusOutletContext\", i0.ɵɵpureFunction2(4, _c0, item_r5, ctx_r2.total));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", item_r5 === ctx_r2.size)(\"ngIfElse\", fakeIcon_r7);\n  }\n}\nfunction TuiTablePaginationComponent_ng_container_0_ng_template_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tui-data-list\", 10);\n    i0.ɵɵtemplate(1, TuiTablePaginationComponent_ng_container_0_ng_template_9_ng_container_1_Template, 6, 7, \"ng-container\", 11);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.items);\n  }\n}\nfunction TuiTablePaginationComponent_ng_container_0_ng_container_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function TuiTablePaginationComponent_ng_container_0_ng_container_14_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.back());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function TuiTablePaginationComponent_ng_container_0_ng_container_14_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.forth());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const spinTexts_r9 = ctx.ngIf;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"disabled\", ctx_r2.leftDisabled)(\"icon\", ctx_r2.icons.decrement)(\"title\", spinTexts_r9[0]);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"disabled\", ctx_r2.rightDisabled)(\"icon\", ctx_r2.icons.increment)(\"title\", spinTexts_r9[1]);\n  }\n}\nfunction TuiTablePaginationComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"span\", 4);\n    i0.ɵɵtemplate(2, TuiTablePaginationComponent_ng_container_0_ng_container_2_Template, 4, 2, \"ng-container\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 5);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementStart(5, \"tui-hosted-dropdown\", 6);\n    i0.ɵɵtwoWayListener(\"openChange\", function TuiTablePaginationComponent_ng_container_0_Template_tui_hosted_dropdown_openChange_5_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r2 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r2.open, $event) || (ctx_r2.open = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵtemplate(6, TuiTablePaginationComponent_ng_container_0_button_6_Template, 3, 2, \"button\", 7)(7, TuiTablePaginationComponent_ng_container_0_ng_template_7_Template, 2, 0, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor)(9, TuiTablePaginationComponent_ng_container_0_ng_template_9_Template, 2, 1, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11);\n    i0.ɵɵelementStart(12, \"strong\", 8);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(14, TuiTablePaginationComponent_ng_container_0_ng_container_14_Template, 3, 6, \"ng-container\", 3);\n    i0.ɵɵpipe(15, \"async\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const texts_r2 = ctx.ngIf;\n    const zeroTotal_r10 = i0.ɵɵreference(8);\n    const content_r11 = i0.ɵɵreference(10);\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.options.showPages);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", texts_r2.linesPerPage, \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"content\", content_r11);\n    i0.ɵɵtwoWayProperty(\"open\", ctx_r2.open);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.total !== 0)(\"ngIfElse\", zeroTotal_r10);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", texts_r2.of, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r2.total);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(15, 9, ctx_r2.spinTexts$));\n  }\n}\nfunction defaultSizeOptionContent({\n  $implicit\n}) {\n  return `${$implicit}`;\n}\nconst TUI_TABLE_PAGINATION_DEFAULT_OPTIONS = {\n  sizeOptionContent: defaultSizeOptionContent,\n  showPages: true,\n  items: [10, 20, 50, 100],\n  size: 10\n};\n/**\n * Default parameters for TablePagination component\n */\nconst TUI_TABLE_PAGINATION_OPTIONS = tuiCreateToken(TUI_TABLE_PAGINATION_DEFAULT_OPTIONS);\nfunction tuiTablePaginationOptionsProvider(options) {\n  return tuiProvideOptions(TUI_TABLE_PAGINATION_OPTIONS, options, TUI_TABLE_PAGINATION_DEFAULT_OPTIONS);\n}\nlet TuiTablePaginationComponent = /*#__PURE__*/(() => {\n  class TuiTablePaginationComponent {\n    constructor(icons, spinTexts$, texts$, options, commonIcons) {\n      this.icons = icons;\n      this.spinTexts$ = spinTexts$;\n      this.texts$ = texts$;\n      this.options = options;\n      this.commonIcons = commonIcons;\n      this.items = this.options.items;\n      this.total = 0;\n      this.page = 0;\n      this.size = this.options.size;\n      /**\n       * TODO: Remove in 4.0\n       * @deprecated use paginationChange\n       */\n      this.pageChange = new EventEmitter();\n      /**\n       * TODO: Remove in 4.0\n       * @deprecated use paginationChange\n       */\n      this.sizeChange = new EventEmitter();\n      this.paginationChange = new EventEmitter();\n      this.open = false;\n    }\n    get pages() {\n      return Math.ceil(this.total / this.size);\n    }\n    get start() {\n      return this.page * this.size;\n    }\n    get end() {\n      return Math.min(this.start + this.size, this.total);\n    }\n    get leftDisabled() {\n      return !this.start;\n    }\n    get rightDisabled() {\n      return this.end === this.total;\n    }\n    get pagination() {\n      return {\n        page: this.page,\n        size: this.size\n      };\n    }\n    onItem(size) {\n      const {\n        start\n      } = this;\n      this.size = size;\n      this.sizeChange.emit(size);\n      this.open = false;\n      this.page = Math.floor(start / this.size);\n      this.pageChange.emit(this.page);\n      this.paginationChange.emit(this.pagination);\n    }\n    back() {\n      this.page--;\n      this.pageChange.emit(this.page);\n      this.paginationChange.emit(this.pagination);\n    }\n    forth() {\n      this.page++;\n      this.pageChange.emit(this.page);\n      this.paginationChange.emit(this.pagination);\n    }\n  }\n  TuiTablePaginationComponent.ɵfac = function TuiTablePaginationComponent_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || TuiTablePaginationComponent)(i0.ɵɵdirectiveInject(TUI_SPIN_ICONS), i0.ɵɵdirectiveInject(TUI_SPIN_TEXTS), i0.ɵɵdirectiveInject(TUI_TABLE_PAGINATION_TEXTS), i0.ɵɵdirectiveInject(TUI_TABLE_PAGINATION_OPTIONS), i0.ɵɵdirectiveInject(TUI_COMMON_ICONS));\n  };\n  TuiTablePaginationComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiTablePaginationComponent,\n    selectors: [[\"tui-table-pagination\"]],\n    inputs: {\n      items: \"items\",\n      total: \"total\",\n      page: \"page\",\n      size: \"size\"\n    },\n    outputs: {\n      pageChange: \"pageChange\",\n      sizeChange: \"sizeChange\",\n      paginationChange: \"paginationChange\"\n    },\n    standalone: false,\n    decls: 2,\n    vars: 3,\n    consts: [[\"zeroTotal\", \"\"], [\"content\", \"\"], [\"fakeIcon\", \"\"], [4, \"ngIf\"], [1, \"t-pages\"], [\"automation-id\", \"tui-table-pagination__lines-per-page-wrapper\"], [3, \"openChange\", \"content\", \"open\"], [\"tuiLink\", \"\", \"type\", \"button\", 4, \"ngIf\", \"ngIfElse\"], [1, \"t-strong\"], [\"tuiLink\", \"\", \"type\", \"button\"], [\"size\", \"s\"], [4, \"ngFor\", \"ngForOf\"], [\"tuiOption\", \"\", 1, \"t-item\", 3, \"click\"], [4, \"polymorpheusOutlet\", \"polymorpheusOutletContext\"], [\"class\", \"t-checkmark\", 3, \"src\", 4, \"ngIf\", \"ngIfElse\"], [1, \"t-checkmark\", 3, \"src\"], [1, \"t-checkmark\"], [\"appearance\", \"icon\", \"size\", \"xs\", \"tuiIconButton\", \"\", \"type\", \"button\", 1, \"t-back\", 3, \"click\", \"disabled\", \"icon\", \"title\"], [\"appearance\", \"icon\", \"size\", \"xs\", \"tuiIconButton\", \"\", \"type\", \"button\", 3, \"click\", \"disabled\", \"icon\", \"title\"]],\n    template: function TuiTablePaginationComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, TuiTablePaginationComponent_ng_container_0_Template, 16, 11, \"ng-container\", 3);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.texts$));\n      }\n    },\n    dependencies: [i1.TuiHostedDropdownComponent, i1.TuiLinkComponent, i1.TuiDataListComponent, i1.TuiOptionComponent, i1.TuiSvgComponent, i1.TuiButtonComponent, i2.NgIf, i2.NgForOf, i3.PolymorpheusOutletDirective, i2.AsyncPipe],\n    styles: [\"[_nghost-%COMP%]{display:flex;font:var(--tui-font-text-s);align-items:center;color:var(--tui-text-03)}.t-strong[_ngcontent-%COMP%]{color:var(--tui-text-01)}.t-pages[_ngcontent-%COMP%]{margin-right:auto}.t-item[_ngcontent-%COMP%]{min-width:5.5rem;box-sizing:border-box}.t-checkmark[_ngcontent-%COMP%]{min-width:1.5rem;border-left:5px solid transparent}.t-back[_ngcontent-%COMP%]{margin:0 .25rem 0 1.5rem}\"],\n    changeDetection: 0\n  });\n  return TuiTablePaginationComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiTablePaginationModule = /*#__PURE__*/(() => {\n  class TuiTablePaginationModule {}\n  TuiTablePaginationModule.ɵfac = function TuiTablePaginationModule_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || TuiTablePaginationModule)();\n  };\n  TuiTablePaginationModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiTablePaginationModule\n  });\n  TuiTablePaginationModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiButtonModule, TuiLinkModule, TuiHostedDropdownModule, TuiDataListModule, TuiSvgModule, PolymorpheusModule]]\n  });\n  return TuiTablePaginationModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TUI_TABLE_PAGINATION_DEFAULT_OPTIONS, TUI_TABLE_PAGINATION_OPTIONS, TuiTablePaginationComponent, TuiTablePaginationModule, tuiTablePaginationOptionsProvider };\n//# sourceMappingURL=taiga-ui-addon-table-components-table-pagination.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}