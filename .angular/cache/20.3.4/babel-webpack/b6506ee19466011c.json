{"ast":null,"code":"import { ClientsPushUpsertDialogFormComponent } from './components/clients-push-upsert-dialog-form/clients-push-upsert-dialog-form.component';\nimport { inject } from '@angular/core';\nimport { TuiButtonModule, TuiDialogCloseService } from '@taiga-ui/core';\nimport { ClientsPushUpsertDialogService, ClientsPushUpsertFormService } from './service';\nimport { CloseConfirmationDialogHandler } from '../../../../../core/classes';\nimport { PushMessageApiService } from '../../../../api/push-message';\nimport { takeUntilDestroyed } from '@angular/core/rxjs-interop';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@taiga-ui/core\";\nexport let ClientsPushUpsertDialogComponent = /*#__PURE__*/(() => {\n  class ClientsPushUpsertDialogComponent extends CloseConfirmationDialogHandler {\n    #clientPushUpsertDialogService = inject(ClientsPushUpsertDialogService);\n    $form = this.#clientPushUpsertDialogService.$form;\n    $isSaving = this.#clientPushUpsertDialogService.$isSaving;\n    ngOnInit() {\n      this.#initData();\n    }\n    #initData() {\n      this.#clientPushUpsertDialogService.initData(this.context.data);\n    }\n    onSendPush() {\n      this.#clientPushUpsertDialogService.sendPush(this.$form().getRawValue()).pipe(takeUntilDestroyed(this.destroyRef)).subscribe(() => this.close());\n    }\n    onClose() {\n      this.close();\n    }\n    static ɵfac = /*@__PURE__*/(() => {\n      let ɵClientsPushUpsertDialogComponent_BaseFactory;\n      return function ClientsPushUpsertDialogComponent_Factory(__ngFactoryType__) {\n        return (ɵClientsPushUpsertDialogComponent_BaseFactory || (ɵClientsPushUpsertDialogComponent_BaseFactory = i0.ɵɵgetInheritedFactory(ClientsPushUpsertDialogComponent)))(__ngFactoryType__ || ClientsPushUpsertDialogComponent);\n      };\n    })();\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ClientsPushUpsertDialogComponent,\n      selectors: [[\"app-clients-push-upsert-dialog\"]],\n      features: [i0.ɵɵProvidersFeature([ClientsPushUpsertDialogService, TuiDialogCloseService, ClientsPushUpsertFormService, PushMessageApiService]), i0.ɵɵInheritDefinitionFeature],\n      decls: 9,\n      vars: 3,\n      consts: [[1, \"title\"], [1, \"content\"], [3, \"form\"], [1, \"actions\"], [\"type\", \"button\", \"tuiButton\", \"\", \"size\", \"m\", \"appearance\", \"secondary\", 3, \"click\"], [\"type\", \"button\", \"tuiButton\", \"\", \"size\", \"m\", 3, \"click\", \"disabled\", \"showLoader\"]],\n      template: function ClientsPushUpsertDialogComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"h2\", 0);\n          i0.ɵɵtext(1, \"\\u041D\\u043E\\u0432\\u0430\\u044F Push \\u0440\\u0430\\u0441\\u0441\\u044B\\u043B\\u043A\\u0430\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(2, \"div\", 1);\n          i0.ɵɵelement(3, \"app-clients-push-upsert-dialog-form\", 2);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"div\", 3)(5, \"button\", 4);\n          i0.ɵɵlistener(\"click\", function ClientsPushUpsertDialogComponent_Template_button_click_5_listener() {\n            return ctx.onClose();\n          });\n          i0.ɵɵtext(6, \" \\u041E\\u0442\\u043C\\u0435\\u043D\\u0430 \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"button\", 5);\n          i0.ɵɵlistener(\"click\", function ClientsPushUpsertDialogComponent_Template_button_click_7_listener() {\n            return ctx.onSendPush();\n          });\n          i0.ɵɵtext(8, \" \\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C \");\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"form\", ctx.$form());\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"disabled\", ctx.$form().invalid || ctx.$isSaving())(\"showLoader\", ctx.$isSaving());\n        }\n      },\n      dependencies: [ClientsPushUpsertDialogFormComponent, TuiButtonModule, i1.TuiButtonComponent],\n      styles: [\".title[_ngcontent-%COMP%]{margin-bottom:var(--spacing-6x);font-size:1.75rem;font-weight:500;line-height:2rem}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-6x);margin-bottom:var(--spacing-6x)}.actions[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-2x);justify-content:flex-end;margin-top:var(--spacing-6x)}\"],\n      changeDetection: 0\n    });\n  }\n  return ClientsPushUpsertDialogComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}