{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { Pipe, Inject, NgModule } from '@angular/core';\nimport { CHAR_PLUS } from '@taiga-ui/cdk';\nimport { TuiCountryIsoCode } from '@taiga-ui/i18n';\nimport { TUI_COUNTRIES_MASKS } from '@taiga-ui/kit/tokens';\nimport { tuiGetMaxAllowedPhoneLength, tuiIsoToCountryCode, tuiNotKzRegion } from '@taiga-ui/kit/utils';\nlet TuiToCountryCodePipe = /*#__PURE__*/(() => {\n  class TuiToCountryCodePipe {\n    constructor(countriesMasks) {\n      this.countriesMasks = countriesMasks;\n    }\n    transform(value, countries) {\n      return countries.find(countryIsoCode => {\n        const ruCodeTest = countryIsoCode === TuiCountryIsoCode.RU && /^[78]/.test(value) && /^(?!880[1-9 ])/.test(value) && value.length + 1 === tuiGetMaxAllowedPhoneLength(this.countriesMasks, TuiCountryIsoCode.RU);\n        const matched = ruCodeTest || value.startsWith(tuiIsoToCountryCode(this.countriesMasks, countryIsoCode).replace(CHAR_PLUS, '')) && value.length + 1 === tuiGetMaxAllowedPhoneLength(this.countriesMasks, countryIsoCode);\n        if (matched) {\n          switch (countryIsoCode) {\n            case TuiCountryIsoCode.RU:\n              return tuiNotKzRegion(value);\n            case TuiCountryIsoCode.KZ:\n              return !tuiNotKzRegion(value);\n            default:\n              return true;\n          }\n        }\n        return false;\n      });\n    }\n  }\n  TuiToCountryCodePipe.ɵfac = function TuiToCountryCodePipe_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || TuiToCountryCodePipe)(i0.ɵɵdirectiveInject(TUI_COUNTRIES_MASKS, 16));\n  };\n  TuiToCountryCodePipe.ɵpipe = /* @__PURE__ */i0.ɵɵdefinePipe({\n    name: \"tuiToCountryCode\",\n    type: TuiToCountryCodePipe,\n    pure: true,\n    standalone: false\n  });\n  return TuiToCountryCodePipe;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiExtractCountryCodeModule = /*#__PURE__*/(() => {\n  class TuiExtractCountryCodeModule {}\n  TuiExtractCountryCodeModule.ɵfac = function TuiExtractCountryCodeModule_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || TuiExtractCountryCodeModule)();\n  };\n  TuiExtractCountryCodeModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiExtractCountryCodeModule\n  });\n  TuiExtractCountryCodeModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiExtractCountryCodeModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiExtractCountryCodeModule, TuiToCountryCodePipe };\n//# sourceMappingURL=taiga-ui-kit-pipes-to-country-code.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}