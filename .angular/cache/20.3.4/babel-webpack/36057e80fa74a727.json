{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { ElementRef, Component, ChangeDetectionStrategy, Inject, Optional, NgModule } from '@angular/core';\nimport * as i3 from '@angular/forms';\nimport { NgControl } from '@angular/forms';\nimport * as i4 from '@taiga-ui/cdk';\nimport { tuiTypedFromEvent, TUI_DEFAULT_IDENTITY_MATCHER, tuiIsPresent, AbstractTuiControl } from '@taiga-ui/cdk';\nimport * as i1 from '@taiga-ui/core';\nimport { TUI_COMMON_ICONS, TUI_DATA_LIST_HOST, TuiOptionComponent, TuiDataListComponent, TuiSvgModule, TuiScrollIntoViewModule } from '@taiga-ui/core';\nimport { POLYMORPHEUS_CONTEXT, PolymorpheusComponent } from '@tinkoff/ng-polymorpheus';\nimport { Subject, merge, EMPTY } from 'rxjs';\nimport { startWith, map, distinctUntilChanged } from 'rxjs/operators';\nimport * as i2 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nfunction TuiSelectOptionComponent_tui_svg_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-svg\", 3);\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"src\", ctx_r0.icons.check)(\"tuiScrollIntoView\", true);\n  }\n}\nfunction TuiSelectOptionComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 4);\n  }\n}\nlet TuiSelectOptionComponent = /*#__PURE__*/(() => {\n  class TuiSelectOptionComponent {\n    constructor(icons, context, host, el, option, dataList, control, abstractControl) {\n      this.icons = icons;\n      this.context = context;\n      this.host = host;\n      this.el = el;\n      this.option = option;\n      this.dataList = dataList;\n      this.control = control;\n      this.abstractControl = abstractControl;\n      this.changeDetection$ = new Subject();\n      this.selected$ = merge(this.changeDetection$, this.control.valueChanges || EMPTY, tuiTypedFromEvent(this.el.nativeElement, 'animationstart')).pipe(startWith(null), map(() => this.selected), distinctUntilChanged());\n    }\n    get matcher() {\n      return this.host.identityMatcher || TUI_DEFAULT_IDENTITY_MATCHER;\n    }\n    ngOnInit() {\n      /**\n       * This would cause changes inside already checked parent component (during the same change detection cycle),\n       * and it might cause ExpressionChanged error due to potential HostBinding\n       * (for example, inside {@link https://github.com/angular/angular/blob/main/packages/forms/src/directives/ng_control_status.ts#L99 NgControlStatus}).\n       * Microtask keeps it in the same frame but allows change detection to run.\n       */\n      void Promise.resolve().then(() => {\n        var _a, _b;\n        if (tuiIsPresent(this.option.value) && !this.option.disabled) {\n          (_b = (_a = this.host).checkOption) === null || _b === void 0 ? void 0 : _b.call(_a, this.option.value);\n        }\n      });\n    }\n    ngDoCheck() {\n      this.changeDetection$.next();\n    }\n    get value() {\n      var _a, _b;\n      return (_b = (_a = this.abstractControl) === null || _a === void 0 ? void 0 : _a.value) !== null && _b !== void 0 ? _b : this.control.value;\n    }\n    get selected() {\n      return tuiIsPresent(this.option.value) && tuiIsPresent(this.value) && this.matcher(this.value, this.option.value);\n    }\n  }\n  TuiSelectOptionComponent.ɵfac = function TuiSelectOptionComponent_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || TuiSelectOptionComponent)(i0.ɵɵdirectiveInject(TUI_COMMON_ICONS), i0.ɵɵdirectiveInject(POLYMORPHEUS_CONTEXT), i0.ɵɵdirectiveInject(TUI_DATA_LIST_HOST), i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(TuiOptionComponent), i0.ɵɵdirectiveInject(TuiDataListComponent, 8), i0.ɵɵdirectiveInject(NgControl), i0.ɵɵdirectiveInject(AbstractTuiControl, 8));\n  };\n  TuiSelectOptionComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiSelectOptionComponent,\n    selectors: [[\"tui-select-option\"]],\n    standalone: false,\n    decls: 5,\n    vars: 5,\n    consts: [[\"dummy\", \"\"], [3, \"ngTemplateOutlet\"], [\"automation-id\", \"tui-select-option__checkmark\", \"class\", \"t-checkmark\", 3, \"src\", \"tuiScrollIntoView\", 4, \"ngIf\", \"ngIfElse\"], [\"automation-id\", \"tui-select-option__checkmark\", 1, \"t-checkmark\", 3, \"src\", \"tuiScrollIntoView\"], [1, \"t-dummy\"]],\n    template: function TuiSelectOptionComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementContainer(0, 1);\n        i0.ɵɵtemplate(1, TuiSelectOptionComponent_tui_svg_1_Template, 1, 2, \"tui-svg\", 2);\n        i0.ɵɵpipe(2, \"async\");\n        i0.ɵɵtemplate(3, TuiSelectOptionComponent_ng_template_3_Template, 1, 0, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        const dummy_r2 = i0.ɵɵreference(4);\n        i0.ɵɵproperty(\"ngTemplateOutlet\", ctx.context.$implicit);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 3, ctx.selected$))(\"ngIfElse\", dummy_r2);\n      }\n    },\n    dependencies: [i1.TuiSvgComponent, i2.NgTemplateOutlet, i2.NgIf, i1.TuiScrollIntoViewDirective, i2.AsyncPipe],\n    styles: [\"@keyframes _ngcontent-%COMP%_retrigger{0%{left:1px}to{left:2px}}[_nghost-%COMP%]{display:flex;flex:1;align-items:center;max-width:100%;animation:_ngcontent-%COMP%_retrigger 1s}.t-checkmark[_ngcontent-%COMP%]{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-border-start:.25rem solid transparent;border-inline-start:.25rem solid transparent}tui-data-list[data-list-size=\\\"s\\\"][_nghost-%COMP%]   .t-checkmark[_ngcontent-%COMP%], tui-data-list[data-list-size=\\\"s\\\"]   [_nghost-%COMP%]   .t-checkmark[_ngcontent-%COMP%]{-webkit-margin-end:-.375rem;margin-inline-end:-.375rem}tui-data-list[data-list-size=\\\"m\\\"][_nghost-%COMP%]   .t-checkmark[_ngcontent-%COMP%], tui-data-list[data-list-size=\\\"m\\\"]   [_nghost-%COMP%]   .t-checkmark[_ngcontent-%COMP%]{-webkit-margin-end:-.125rem;margin-inline-end:-.125rem}.t-dummy[_ngcontent-%COMP%]{width:1.75rem}\"],\n    changeDetection: 0\n  });\n  return TuiSelectOptionComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst TUI_SELECT_OPTION = new PolymorpheusComponent(TuiSelectOptionComponent);\nlet TuiSelectOptionModule = /*#__PURE__*/(() => {\n  class TuiSelectOptionModule {}\n  TuiSelectOptionModule.ɵfac = function TuiSelectOptionModule_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || TuiSelectOptionModule)();\n  };\n  TuiSelectOptionModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiSelectOptionModule\n  });\n  TuiSelectOptionModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiSvgModule, TuiScrollIntoViewModule]]\n  });\n  return TuiSelectOptionModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TUI_SELECT_OPTION, TuiSelectOptionComponent, TuiSelectOptionModule };\n//# sourceMappingURL=taiga-ui-kit-components-select-option.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}