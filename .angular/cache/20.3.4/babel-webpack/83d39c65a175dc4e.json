{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { inject, ElementRef, Component, ChangeDetectionStrategy, Inject, Self, Injectable, Directive, NgModule } from '@angular/core';\nimport * as i4 from '@taiga-ui/cdk';\nimport { tuiCreateTokenFromFactory, TUI_IS_MOBILE, tuiIsNumber, TuiDestroyService, AbstractTuiDialogService, TuiIdService, AbstractTuiDialogDirective, tuiAsAlerts } from '@taiga-ui/cdk';\nimport { tuiFadeIn, tuiSlideIn, tuiHeightCollapse } from '@taiga-ui/core/animations';\nimport { TUI_ANIMATION_OPTIONS, TUI_NOTIFICATION_OPTIONS } from '@taiga-ui/core/tokens';\nimport * as i3 from '@tinkoff/ng-polymorpheus';\nimport { POLYMORPHEUS_CONTEXT, PolymorpheusComponent, PolymorpheusModule } from '@tinkoff/ng-polymorpheus';\nimport { timer, fromEvent } from 'rxjs';\nimport { takeUntil, repeatWhen } from 'rxjs/operators';\nimport * as i1 from '@taiga-ui/core/components/notification';\nimport { TuiNotificationModule } from '@taiga-ui/core/components/notification';\nimport * as i2 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nfunction TuiAlertComponent_label_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const text_r1 = ctx.polymorpheusOutlet;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", text_r1, \" \");\n  }\n}\nfunction TuiAlertComponent_label_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"label\", 4);\n    i0.ɵɵtemplate(1, TuiAlertComponent_label_1_ng_container_1_Template, 2, 1, \"ng-container\", 5);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"polymorpheusOutlet\", ctx_r1.item.label)(\"polymorpheusOutletContext\", ctx_r1.item);\n  }\n}\nfunction TuiAlertComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 6);\n  }\n  if (rf & 2) {\n    const text_r3 = ctx.polymorpheusOutlet;\n    i0.ɵɵproperty(\"innerHTML\", text_r3, i0.ɵɵsanitizeHtml);\n  }\n}\nconst TUI_ALERT_POSITION = tuiCreateTokenFromFactory(() => inject(TUI_IS_MOBILE) ? '1rem 1rem 0 auto' : '2rem 3rem 0 auto');\n\n// TODO: get rid of $any in template\nlet TuiAlertComponent = /*#__PURE__*/(() => {\n  class TuiAlertComponent {\n    constructor(el, destroy$, position, options, item) {\n      this.el = el;\n      this.destroy$ = destroy$;\n      this.position = position;\n      this.options = options;\n      this.item = item;\n      this.autoClose = typeof this.item.autoClose === 'function' ? this.item.autoClose(this.item.status) : this.item.autoClose;\n      this.animation = this.position.endsWith('auto') ? Object.assign(Object.assign({}, this.options), {\n        value: 'right'\n      }) : Object.assign(Object.assign({}, this.options), {\n        value: 'left'\n      });\n    }\n    ngOnInit() {\n      this.initAutoClose();\n    }\n    close() {\n      this.item.$implicit.complete();\n    }\n    initAutoClose() {\n      if (!this.autoClose) {\n        return;\n      }\n      timer(tuiIsNumber(this.autoClose) ? this.autoClose : 3000).pipe(takeUntil(fromEvent(this.el.nativeElement, 'mouseenter')),\n      /**\n       * TODO: replace to\n       * repeat({\n       *    delay: () => fromEvent(this.el.nativeElement, 'mouseleave'),\n       * })\n       *\n       * in RxJS 7\n       */\n      // eslint-disable-next-line rxjs/no-ignored-notifier\n      repeatWhen(() => fromEvent(this.el.nativeElement, 'mouseleave')), takeUntil(this.destroy$)).subscribe(() => this.close());\n    }\n  }\n  TuiAlertComponent.ɵfac = function TuiAlertComponent_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || TuiAlertComponent)(i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(TuiDestroyService, 2), i0.ɵɵdirectiveInject(TUI_ALERT_POSITION), i0.ɵɵdirectiveInject(TUI_ANIMATION_OPTIONS), i0.ɵɵdirectiveInject(POLYMORPHEUS_CONTEXT));\n  };\n  TuiAlertComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiAlertComponent,\n    selectors: [[\"tui-alert\"]],\n    hostAttrs: [\"role\", \"alert\"],\n    hostVars: 5,\n    hostBindings: function TuiAlertComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵsyntheticHostProperty(\"@tuiFadeIn\", ctx.options)(\"@tuiSlideIn\", ctx.animation)(\"@tuiHeightCollapse\", ctx.animation);\n        i0.ɵɵstyleProp(\"margin\", ctx.position);\n      }\n    },\n    standalone: false,\n    features: [i0.ɵɵProvidersFeature([TuiDestroyService])],\n    decls: 4,\n    vars: 7,\n    consts: [[3, \"close\", \"hasIcon\", \"hideClose\", \"icon\", \"status\"], [\"automation-id\", \"tui-notification-alert__heading\", \"class\", \"t-heading\", 4, \"ngIf\"], [\"automation-id\", \"tui-notification-alert__content\", 1, \"t-content\"], [3, \"innerHTML\", 4, \"polymorpheusOutlet\", \"polymorpheusOutletContext\"], [\"automation-id\", \"tui-notification-alert__heading\", 1, \"t-heading\"], [4, \"polymorpheusOutlet\", \"polymorpheusOutletContext\"], [3, \"innerHTML\"]],\n    template: function TuiAlertComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"tui-notification\", 0);\n        i0.ɵɵlistener(\"close\", function TuiAlertComponent_Template_tui_notification_close_0_listener() {\n          return ctx.close();\n        });\n        i0.ɵɵtemplate(1, TuiAlertComponent_label_1_Template, 2, 2, \"label\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵtemplate(3, TuiAlertComponent_div_3_Template, 1, 1, \"div\", 3);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"hasIcon\", ctx.item.hasIcon)(\"hideClose\", !ctx.item.hasCloseButton)(\"icon\", ctx.item.icon)(\"status\", ctx.item.status);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.item.label);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"polymorpheusOutlet\", ctx.item.content)(\"polymorpheusOutletContext\", ctx.item);\n      }\n    },\n    dependencies: [i1.TuiNotificationComponent, i2.NgIf, i3.PolymorpheusOutletDirective],\n    styles: [\"[_nghost-%COMP%]{display:block;box-shadow:var(--tui-shadow-dropdown);border-radius:var(--tui-radius-l);width:18rem}[_nghost-%COMP%]:not(:first-child){margin-top:.75rem!important}[_nghost-%COMP%]:not(:last-child){margin-bottom:0!important}.t-heading[_ngcontent-%COMP%]{margin:0}[data-size=s][_ngcontent-%COMP%]   .t-heading[_ngcontent-%COMP%]{font:var(--tui-font-text-s);font-weight:bold}[data-size=m][_ngcontent-%COMP%]   .t-heading[_ngcontent-%COMP%]{font:var(--tui-font-text-m);line-height:1.25rem;font-weight:bold}[data-size=l][_ngcontent-%COMP%]   .t-heading[_ngcontent-%COMP%]{font:var(--tui-font-text-l);line-height:1.5rem;font-weight:bold}.t-content[_ngcontent-%COMP%]{color:var(--tui-text-01);word-wrap:break-word;word-break:break-word}.t-content[_ngcontent-%COMP%]:empty{display:none}\"],\n    data: {\n      animation: [tuiFadeIn, tuiSlideIn, tuiHeightCollapse]\n    },\n    changeDetection: 0\n  });\n  return TuiAlertComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiAlertService = /*#__PURE__*/(() => {\n  class TuiAlertService extends AbstractTuiDialogService {\n    constructor(defaultOptions, idService) {\n      super(idService);\n      this.defaultOptions = defaultOptions;\n      this.component = new PolymorpheusComponent(TuiAlertComponent);\n    }\n  }\n  TuiAlertService.ɵfac = function TuiAlertService_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || TuiAlertService)(i0.ɵɵinject(TUI_NOTIFICATION_OPTIONS), i0.ɵɵinject(TuiIdService));\n  };\n  TuiAlertService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: TuiAlertService,\n    factory: TuiAlertService.ɵfac,\n    providedIn: 'root'\n  });\n  return TuiAlertService;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiAlertDirective = /*#__PURE__*/(() => {\n  class TuiAlertDirective extends AbstractTuiDialogDirective {}\n  TuiAlertDirective.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiAlertDirective_BaseFactory;\n    return function TuiAlertDirective_Factory(__ngFactoryType__) {\n      return (ɵTuiAlertDirective_BaseFactory || (ɵTuiAlertDirective_BaseFactory = i0.ɵɵgetInheritedFactory(TuiAlertDirective)))(__ngFactoryType__ || TuiAlertDirective);\n    };\n  })();\n  TuiAlertDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiAlertDirective,\n    selectors: [[\"ng-template\", \"tuiAlert\", \"\"]],\n    inputs: {\n      options: [0, \"tuiAlertOptions\", \"options\"],\n      open: [0, \"tuiAlert\", \"open\"]\n    },\n    outputs: {\n      openChange: \"tuiAlertChange\"\n    },\n    standalone: false,\n    features: [i0.ɵɵProvidersFeature([{\n      provide: AbstractTuiDialogService,\n      useExisting: TuiAlertService\n    }]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiAlertDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiAlertModule = /*#__PURE__*/(() => {\n  class TuiAlertModule {}\n  TuiAlertModule.ɵfac = function TuiAlertModule_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || TuiAlertModule)();\n  };\n  TuiAlertModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiAlertModule\n  });\n  TuiAlertModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [tuiAsAlerts(TuiAlertService)],\n    imports: [[CommonModule, PolymorpheusModule, TuiNotificationModule]]\n  });\n  return TuiAlertModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TUI_ALERT_POSITION, TuiAlertComponent, TuiAlertDirective, TuiAlertModule, TuiAlertService };\n//# sourceMappingURL=taiga-ui-core-components-alert.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}