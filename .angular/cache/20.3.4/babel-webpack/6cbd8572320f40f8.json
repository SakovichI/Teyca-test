{"ast":null,"code":"import { tuiIsString } from '@taiga-ui/cdk/utils/miscellaneous';\nfunction makeRandomSalt() {\n  return Math.floor(Math.random() * Date.now());\n}\nfunction escapeRegExp(search) {\n  return search.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\n}\nfunction extractLinearGradientIdsFromSvg(svg) {\n  var _a;\n  const ids = ((_a = svg.match(/url\\((\"?)('*)#(.*?)('*)\\)/g)) !== null && _a !== void 0 ? _a : []).map(url => url.slice(4, url.length - 1).replace(/['\"#]+/g, ''));\n  return Array.from(new Set(ids));\n}\n/**\n * @description:\n * Any ‘linearGradient’ attributes which are defined on the referenced\n * element which are not defined on this element are inherited by this element.\n * If this element has no defined gradient stops, and the referenced element does\n * (possibly due to its own ‘xlink:href’ attribute), then this element inherits\n * the gradient stop from the referenced element. Inheritance can be indirect\n * to an arbitrary level; thus, if the referenced element inherits attribute\n * or gradient stops due to its own ‘xlink:href’ attribute, then the current\n * element can inherit those attributes or gradient stops.\n *\n * Documentation: https://www.w3.org/TR/SVG11/pservers.html\n *\n */\nfunction tuiSvgLinearGradientProcessor(svg, salt = makeRandomSalt()) {\n  if (tuiIsString(svg)) {\n    const uniqueIds = extractLinearGradientIdsFromSvg(svg);\n    return uniqueIds.reduce((newSvg, previousId) => {\n      const escapedId = escapeRegExp(previousId);\n      const newId = `id_${salt}_${previousId}`;\n      return newSvg.replace(new RegExp(`\"${escapedId}\"`, 'g'), `\"${newId}\"`).replace(new RegExp(`'${escapedId}'`, 'g'), `'${newId}'`).replace(new RegExp(`url\\\\('#${escapedId}'\\\\)`, 'g'), `url('#${newId}')`).replace(new RegExp(`url\\\\(\"#${escapedId}\"\\\\)`, 'g'), `url(\"#${newId}\")`).replace(new RegExp(`url\\\\(#${escapedId}\\\\)`, 'g'), `url(#${newId})`);\n    }, svg);\n  }\n  return svg;\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { tuiSvgLinearGradientProcessor };\n//# sourceMappingURL=taiga-ui-cdk-utils-svg.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}