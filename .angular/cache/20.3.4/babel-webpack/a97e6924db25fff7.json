{"ast":null,"code":"import { __decorate } from 'tslib';\nimport * as i0 from '@angular/core';\nimport { EventEmitter, Component, ChangeDetectionStrategy, Inject, Input, HostBinding, Output, TemplateRef, ViewEncapsulation, ContentChildren, NgModule } from '@angular/core';\nimport * as i5 from '@angular/platform-browser';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport * as i3 from '@taiga-ui/cdk';\nimport { tuiCreateToken, tuiIsObserved, tuiPure, EMPTY_QUERY, TuiItemDirective, TuiFocusVisibleModule, TuiItemModule, TuiPreventDefaultModule } from '@taiga-ui/cdk';\nimport * as i1 from '@taiga-ui/core';\nimport { TUI_COMMON_ICONS, TuiGroupModule, TuiLoaderModule, TuiSvgModule, TuiButtonModule, TuiExpandModule } from '@taiga-ui/core';\nimport { TUI_FILE_TEXTS, TUI_DIGITAL_INFORMATION_UNITS, TUI_HIDE_TEXT, TUI_SHOW_ALL_TEXT } from '@taiga-ui/kit/tokens';\nimport * as i3$1 from 'rxjs';\nimport { of } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { tuiFormatSize } from '@taiga-ui/kit/utils';\nimport * as i2 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i4 from '@tinkoff/ng-polymorpheus';\nimport { PolymorpheusModule } from '@tinkoff/ng-polymorpheus';\nconst _c0 = [\"*\"];\nconst _c1 = a0 => ({\n  $implicit: a0\n});\nfunction TuiFileComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0, 6);\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const fileInfoTemplate_r1 = i0.ɵɵreference(4);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", fileInfoTemplate_r1);\n  }\n}\nfunction TuiFileComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 7);\n    i0.ɵɵlistener(\"tuiFocusVisibleChange\", function TuiFileComponent_ng_template_1_Template_a_tuiFocusVisibleChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onFocusVisible($event));\n    });\n    i0.ɵɵelementContainer(1, 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    const fileInfoTemplate_r1 = i0.ɵɵreference(4);\n    i0.ɵɵproperty(\"href\", ctx_r2.src, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngTemplateOutlet\", fileInfoTemplate_r1);\n  }\n}\nfunction TuiFileComponent_ng_template_3_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const text_r4 = ctx.polymorpheusOutlet;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", text_r4, \" \");\n  }\n}\nfunction TuiFileComponent_ng_template_3_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const fileSize_r5 = ctx.ngIf;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", fileSize_r5, \" \");\n  }\n}\nfunction TuiFileComponent_ng_template_3_div_10_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const text_r6 = ctx.polymorpheusOutlet;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", text_r6, \" \");\n  }\n}\nfunction TuiFileComponent_ng_template_3_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵtemplate(1, TuiFileComponent_ng_template_3_div_10_ng_container_1_Template, 2, 1, \"ng-container\", 9);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const content_r7 = ctx.ngIf;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"polymorpheusOutlet\", content_r7);\n  }\n}\nfunction TuiFileComponent_ng_template_3_ng_container_13_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 20);\n    i0.ɵɵlistener(\"click.prevent\", function TuiFileComponent_ng_template_3_ng_container_13_button_1_Template_button_click_prevent_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r2 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r2.onRemoveClick());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const texts_r9 = ctx.ngIf;\n    const ctx_r2 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"icon\", ctx_r2.icons.close)(\"title\", texts_r9.remove);\n  }\n}\nfunction TuiFileComponent_ng_template_3_ng_container_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TuiFileComponent_ng_template_3_ng_container_13_button_1_Template, 1, 2, \"button\", 19);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 1, ctx_r2.fileTexts$));\n  }\n}\nfunction TuiFileComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtemplate(1, TuiFileComponent_ng_template_3_ng_container_1_Template, 2, 1, \"ng-container\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"div\", 10)(3, \"div\", 11)(4, \"div\", 12);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 13);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, TuiFileComponent_ng_template_3_div_8_Template, 2, 1, \"div\", 14);\n    i0.ɵɵpipe(9, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, TuiFileComponent_ng_template_3_div_10_Template, 2, 1, \"div\", 15);\n    i0.ɵɵpipe(11, \"async\");\n    i0.ɵɵprojection(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(13, TuiFileComponent_ng_template_3_ng_container_13_Template, 3, 3, \"ng-container\", 16);\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    const defaultLeftContent_r10 = i0.ɵɵreference(6);\n    i0.ɵɵclassProp(\"t-preview_big\", ctx_r2.isBig);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"polymorpheusOutlet\", ctx_r2.leftContent || defaultLeftContent_r10);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.name, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.type, \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.showSize && i0.ɵɵpipeBind1(9, 8, ctx_r2.fileSize$));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(11, 10, ctx_r2.content$));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.allowDelete);\n  }\n}\nfunction TuiFileComponent_ng_template_5_img_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 22);\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"src\", ctx_r2.preview, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction TuiFileComponent_ng_template_5_ng_template_1_tui_loader_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-loader\", 24);\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"inheritColor\", ctx_r2.isBig);\n  }\n}\nfunction TuiFileComponent_ng_template_5_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, TuiFileComponent_ng_template_5_ng_template_1_tui_loader_0_Template, 1, 1, \"tui-loader\", 23);\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const svg_r11 = i0.ɵɵreference(4);\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.isLoading)(\"ngIfElse\", svg_r11);\n  }\n}\nfunction TuiFileComponent_ng_template_5_ng_template_3_tui_svg_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-svg\", 26);\n  }\n  if (rf & 2) {\n    const src_r12 = ctx.polymorpheusOutlet;\n    const ctx_r2 = i0.ɵɵnextContext(3);\n    i0.ɵɵclassProp(\"t-icon_blank\", ctx_r2.isBig || ctx_r2.isDeleted)(\"t-icon_error\", ctx_r2.isError);\n    i0.ɵɵproperty(\"src\", src_r12);\n  }\n}\nfunction TuiFileComponent_ng_template_5_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, TuiFileComponent_ng_template_5_ng_template_3_tui_svg_0_Template, 1, 5, \"tui-svg\", 25);\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"polymorpheusOutlet\", ctx_r2.icon)(\"polymorpheusOutletContext\", i0.ɵɵpureFunction1(2, _c1, ctx_r2.size));\n  }\n}\nfunction TuiFileComponent_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, TuiFileComponent_ng_template_5_img_0_Template, 1, 1, \"img\", 21)(1, TuiFileComponent_ng_template_5_ng_template_1_Template, 1, 2, \"ng-template\", null, 3, i0.ɵɵtemplateRefExtractor)(3, TuiFileComponent_ng_template_5_ng_template_3_Template, 1, 4, \"ng-template\", null, 4, i0.ɵɵtemplateRefExtractor);\n  }\n  if (rf & 2) {\n    const loader_r13 = i0.ɵɵreference(2);\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.preview)(\"ngIfElse\", loader_r13);\n  }\n}\nfunction TuiFilesComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction TuiFilesComponent_ng_container_4_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0, 6);\n  }\n  if (rf & 2) {\n    const item_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"ngTemplateOutlet\", item_r1);\n  }\n}\nfunction TuiFilesComponent_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TuiFilesComponent_ng_container_4_ng_container_1_Template, 1, 1, \"ng-container\", 5);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const index_r2 = ctx.index;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.max || index_r2 < ctx_r2.max);\n  }\n}\nfunction TuiFilesComponent_tui_expand_5_ng_container_2_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0, 6);\n  }\n  if (rf & 2) {\n    const item_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"ngTemplateOutlet\", item_r4);\n  }\n}\nfunction TuiFilesComponent_tui_expand_5_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TuiFilesComponent_tui_expand_5_ng_container_2_ng_container_1_Template, 1, 1, \"ng-container\", 5);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const index_r5 = ctx.index;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.max && index_r5 >= ctx_r2.max);\n  }\n}\nfunction TuiFilesComponent_tui_expand_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tui-expand\", 7)(1, \"div\", 8);\n    i0.ɵɵtemplate(2, TuiFilesComponent_tui_expand_5_ng_container_2_Template, 2, 1, \"ng-container\", 2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"expanded\", ctx_r2.expanded);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.items);\n  }\n}\nfunction TuiFilesComponent_button_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function TuiFilesComponent_button_6_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.toggle());\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"t-button_collapsed\", !ctx_r2.expanded);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 3, ctx_r2.expanded ? ctx_r2.hideText$ : ctx_r2.showAllText$), \" \");\n  }\n}\nconst TUI_FILE_DEFAULT_OPTIONS = {\n  formatSize: tuiFormatSize,\n  icons: {\n    normal: ({\n      $implicit\n    }) => $implicit === 'l' ? 'tuiIconFileLarge' : 'tuiIconCheckCircleLarge',\n    error: 'tuiIconAlertCircleLarge',\n    deleted: 'tuiIconTrashLarge'\n  }\n};\n/**\n * Default parameters for file component\n */\nconst TUI_FILE_OPTIONS = tuiCreateToken(TUI_FILE_DEFAULT_OPTIONS);\nlet TuiFileComponent = /*#__PURE__*/(() => {\n  class TuiFileComponent {\n    constructor(sanitizer, icons, fileTexts$, options, units$) {\n      this.sanitizer = sanitizer;\n      this.icons = icons;\n      this.fileTexts$ = fileTexts$;\n      this.options = options;\n      this.units$ = units$;\n      this.file = {\n        name: ''\n      };\n      this.state = 'normal';\n      this.size = 'm';\n      this.showDelete = true;\n      this.showSize = true;\n      this.removed = new EventEmitter();\n      this.focused = false;\n    }\n    get preview() {\n      return this.isBig ? this.createPreview(this.file, this.sanitizer) : '';\n    }\n    get isBig() {\n      return this.size === 'l';\n    }\n    get isLoading() {\n      return this.state === 'loading';\n    }\n    get isError() {\n      return this.state === 'error';\n    }\n    get isDeleted() {\n      return this.state === 'deleted';\n    }\n    get allowDelete() {\n      return this.showDelete && tuiIsObserved(this.removed);\n    }\n    get icon() {\n      return this.state === 'loading' ? '' : this.options.icons[this.state];\n    }\n    get src() {\n      return this.file.src || '';\n    }\n    get name() {\n      return this.getName(this.file);\n    }\n    get type() {\n      return this.getType(this.file);\n    }\n    get content$() {\n      return this.calculateContent$(this.state, this.file, this.fileTexts$);\n    }\n    get fileSize$() {\n      return this.calculateFileSize$(this.file, this.units$);\n    }\n    onRemoveClick() {\n      this.removed.emit();\n    }\n    onFocusVisible(focusVisible) {\n      this.focused = focusVisible;\n    }\n    calculateContent$(state, file, fileTexts$) {\n      return state === 'error' && !file.content ? fileTexts$.pipe(map(texts => texts.loadingError)) : of(this.file.content || '');\n    }\n    calculateFileSize$(file, units$) {\n      return units$.pipe(map(units => this.options.formatSize(units, file.size)));\n    }\n    createPreview(file, sanitizer) {\n      if (file.src) {\n        return file.src;\n      }\n      // TODO: iframe warning\n      if (file instanceof File && file.type && file.type.startsWith('image/')) {\n        return sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(file));\n      }\n      return '';\n    }\n    getName(file) {\n      return file.name.split('.').slice(0, -1).join('.');\n    }\n    getType(file) {\n      return `.${file.name.split('.').pop()}` || '';\n    }\n  }\n  TuiFileComponent.ɵfac = function TuiFileComponent_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || TuiFileComponent)(i0.ɵɵdirectiveInject(DomSanitizer), i0.ɵɵdirectiveInject(TUI_COMMON_ICONS), i0.ɵɵdirectiveInject(TUI_FILE_TEXTS), i0.ɵɵdirectiveInject(TUI_FILE_OPTIONS), i0.ɵɵdirectiveInject(TUI_DIGITAL_INFORMATION_UNITS));\n  };\n  TuiFileComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiFileComponent,\n    selectors: [[\"tui-file\"]],\n    hostVars: 5,\n    hostBindings: function TuiFileComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵattribute(\"data-delete\", ctx.showDelete);\n        i0.ɵɵclassProp(\"_focused\", ctx.focused)(\"_link\", ctx.src);\n      }\n    },\n    inputs: {\n      file: \"file\",\n      state: \"state\",\n      size: \"size\",\n      showDelete: \"showDelete\",\n      showSize: \"showSize\",\n      leftContent: \"leftContent\"\n    },\n    outputs: {\n      removed: \"removed\"\n    },\n    standalone: false,\n    ngContentSelectors: _c0,\n    decls: 7,\n    vars: 2,\n    consts: [[\"withLink\", \"\"], [\"fileInfoTemplate\", \"\"], [\"defaultLeftContent\", \"\"], [\"loader\", \"\"], [\"svg\", \"\"], [3, \"ngTemplateOutlet\", 4, \"ngIf\", \"ngIfElse\"], [3, \"ngTemplateOutlet\"], [\"rel\", \"noreferrer noopener\", \"target\", \"_blank\", 1, \"t-link\", 3, \"tuiFocusVisibleChange\", \"href\"], [1, \"t-preview\"], [4, \"polymorpheusOutlet\"], [1, \"t-wrapper\"], [1, \"t-text\"], [\"automation-id\", \"tui-file__name\", 1, \"t-name\"], [\"automation-id\", \"tui-file__type\", 1, \"t-type\"], [\"automation-id\", \"tui-file__size\", \"class\", \"t-size\", 4, \"ngIf\"], [\"automation-id\", \"tui-file__content\", \"class\", \"t-content\", 4, \"ngIf\"], [4, \"ngIf\"], [\"automation-id\", \"tui-file__size\", 1, \"t-size\"], [\"automation-id\", \"tui-file__content\", 1, \"t-content\"], [\"appearance\", \"icon\", \"automation-id\", \"tui-file__remove\", \"size\", \"xs\", \"tuiIconButton\", \"\", \"tuiPreventDefault\", \"mousedown\", \"type\", \"button\", \"class\", \"t-remove\", 3, \"icon\", \"title\", \"click.prevent\", 4, \"ngIf\"], [\"appearance\", \"icon\", \"automation-id\", \"tui-file__remove\", \"size\", \"xs\", \"tuiIconButton\", \"\", \"tuiPreventDefault\", \"mousedown\", \"type\", \"button\", 1, \"t-remove\", 3, \"click.prevent\", \"icon\", \"title\"], [\"alt\", \"file preview\", \"automation-id\", \"tui-file__preview\", \"class\", \"t-image\", 3, \"src\", 4, \"ngIf\", \"ngIfElse\"], [\"alt\", \"file preview\", \"automation-id\", \"tui-file__preview\", 1, \"t-image\", 3, \"src\"], [\"automation-id\", \"tui-file__loader\", \"class\", \"t-loader\", 3, \"inheritColor\", 4, \"ngIf\", \"ngIfElse\"], [\"automation-id\", \"tui-file__loader\", 1, \"t-loader\", 3, \"inheritColor\"], [\"automation-id\", \"tui-file__icon\", \"class\", \"t-icon\", 3, \"t-icon_blank\", \"t-icon_error\", \"src\", 4, \"polymorpheusOutlet\", \"polymorpheusOutletContext\"], [\"automation-id\", \"tui-file__icon\", 1, \"t-icon\", 3, \"src\"]],\n    template: function TuiFileComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef();\n        i0.ɵɵtemplate(0, TuiFileComponent_ng_container_0_Template, 1, 1, \"ng-container\", 5)(1, TuiFileComponent_ng_template_1_Template, 2, 2, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor)(3, TuiFileComponent_ng_template_3_Template, 14, 12, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor)(5, TuiFileComponent_ng_template_5_Template, 5, 2, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        const withLink_r14 = i0.ɵɵreference(2);\n        i0.ɵɵproperty(\"ngIf\", !ctx.src)(\"ngIfElse\", withLink_r14);\n      }\n    },\n    dependencies: [i1.TuiButtonComponent, i1.TuiLoaderComponent, i1.TuiSvgComponent, i2.NgIf, i2.NgTemplateOutlet, i3.TuiFocusVisibleDirective, i4.PolymorpheusOutletDirective, i3.TuiPreventDefaultDirective, i2.AsyncPipe],\n    styles: [\"[_nghost-%COMP%]{position:relative;display:flex;align-items:center;font:var(--tui-font-text-m);background:var(--tui-base-01);border:1px solid var(--tui-base-03);border-radius:var(--tui-radius-m)}[data-delete=always][_nghost-%COMP%]   .t-remove[_ngcontent-%COMP%]{opacity:1}[data-mode=onDark][_nghost-%COMP%]{color:var(--tui-text-01-night)}[_nghost-%COMP%]:not(._link){padding:.5625rem 2.1875rem .5625rem .5625rem}[_nghost-%COMP%]:hover   .t-remove[_ngcontent-%COMP%]{opacity:1}._focused[_nghost-%COMP%]{border-color:var(--tui-focus);box-shadow:0 0 0 1px inset var(--tui-focus)}.t-link[_ngcontent-%COMP%]{display:flex;flex:1;padding:.5625rem 2.1875rem .5625rem .5625rem;text-decoration:none;outline:none;cursor:pointer;color:var(--tui-text-01);max-width:calc(100% - 2.75rem)}.t-link[_ngcontent-%COMP%]:hover{background-color:var(--tui-base-02)}.t-preview[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;flex-shrink:0;width:1.5rem;height:1.5rem;margin-right:.75rem;border-radius:var(--tui-radius-m);overflow:hidden;color:var(--tui-base-06)}.t-preview_big[_ngcontent-%COMP%]{width:4rem;height:4rem;margin-right:1rem}.t-preview_big[_ngcontent-%COMP%]:before{position:absolute;top:0;left:0;width:100%;height:100%;content:\\\"\\\";background:var(--tui-base-08);opacity:.08}.t-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%}.t-loader[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}.t-icon[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:0;right:0;color:var(--tui-success-fill);margin:auto}.t-icon_blank[_ngcontent-%COMP%]{color:var(--tui-base-06)}.t-icon_error[_ngcontent-%COMP%]{color:var(--tui-error-fill)}.t-remove[_ngcontent-%COMP%]{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:absolute;top:.625rem;right:.625rem}.t-remove[_ngcontent-%COMP%]:focus{opacity:1}.t-remove[_ngcontent-%COMP%]:focus-visible{box-shadow:inset 0 0 0 2px var(--tui-focus)}@media (hover: hover) and (pointer: fine){.t-remove[_ngcontent-%COMP%]{opacity:0}}.t-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;overflow:hidden}.t-text[_ngcontent-%COMP%]{display:flex}.t-size[_ngcontent-%COMP%]{flex-shrink:0;opacity:var(--tui-disabled-opacity);margin-left:.5rem}.t-type[_ngcontent-%COMP%]{flex-shrink:0}.t-name[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.t-content[_ngcontent-%COMP%]{font:var(--tui-font-text-s);color:var(--tui-error-fill)}\"],\n    changeDetection: 0\n  });\n  __decorate([tuiPure], TuiFileComponent.prototype, \"calculateContent$\", null);\n  __decorate([tuiPure], TuiFileComponent.prototype, \"calculateFileSize$\", null);\n  __decorate([tuiPure], TuiFileComponent.prototype, \"createPreview\", null);\n  __decorate([tuiPure], TuiFileComponent.prototype, \"getName\", null);\n  __decorate([tuiPure], TuiFileComponent.prototype, \"getType\", null);\n  return TuiFileComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiFilesComponent = /*#__PURE__*/(() => {\n  class TuiFilesComponent {\n    constructor(hideText$, showAllText$) {\n      this.hideText$ = hideText$;\n      this.showAllText$ = showAllText$;\n      this.items = EMPTY_QUERY;\n      this.max = 0;\n      this.expanded = false;\n      this.expandedChange = new EventEmitter();\n    }\n    get hasExtraItems() {\n      return !!this.max && this.items.length > this.max;\n    }\n    toggle() {\n      this.expanded = !this.expanded;\n      this.expandedChange.emit(this.expanded);\n    }\n  }\n  TuiFilesComponent.ɵfac = function TuiFilesComponent_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || TuiFilesComponent)(i0.ɵɵdirectiveInject(TUI_HIDE_TEXT), i0.ɵɵdirectiveInject(TUI_SHOW_ALL_TEXT));\n  };\n  TuiFilesComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiFilesComponent,\n    selectors: [[\"tui-files\"]],\n    contentQueries: function TuiFilesComponent_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        i0.ɵɵcontentQuery(dirIndex, TuiItemDirective, 4, TemplateRef);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.items = _t);\n      }\n    },\n    inputs: {\n      max: \"max\",\n      expanded: \"expanded\"\n    },\n    outputs: {\n      expandedChange: \"expandedChange\"\n    },\n    standalone: false,\n    ngContentSelectors: _c0,\n    decls: 7,\n    vars: 7,\n    consts: [[4, \"ngIf\"], [\"orientation\", \"vertical\", \"tuiGroup\", \"\", 1, \"t-files\", 3, \"collapsed\"], [4, \"ngFor\", \"ngForOf\"], [3, \"expanded\", 4, \"ngIf\"], [\"appearance\", \"whiteblock\", \"size\", \"m\", \"tuiButton\", \"\", \"type\", \"button\", \"class\", \"t-button\", 3, \"t-button_collapsed\", \"click\", 4, \"ngIf\"], [3, \"ngTemplateOutlet\", 4, \"ngIf\"], [3, \"ngTemplateOutlet\"], [3, \"expanded\"], [1, \"t-extra-items\"], [\"appearance\", \"whiteblock\", \"size\", \"m\", \"tuiButton\", \"\", \"type\", \"button\", 1, \"t-button\", 3, \"click\"]],\n    template: function TuiFilesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef();\n        i0.ɵɵtemplate(0, TuiFilesComponent_ng_container_0_Template, 1, 0, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n        i0.ɵɵelementStart(2, \"section\", 1);\n        i0.ɵɵprojection(3);\n        i0.ɵɵtemplate(4, TuiFilesComponent_ng_container_4_Template, 2, 1, \"ng-container\", 2)(5, TuiFilesComponent_tui_expand_5_Template, 3, 2, \"tui-expand\", 3)(6, TuiFilesComponent_button_6_Template, 3, 5, \"button\", 4);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 5, ctx.items == null ? null : ctx.items.changes));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"collapsed\", true);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.items);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.hasExtraItems);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.hasExtraItems);\n      }\n    },\n    dependencies: [i1.TuiExpandComponent, i1.TuiButtonComponent, i2.NgIf, i1.TuiGroupDirective, i2.NgForOf, i2.NgTemplateOutlet, i2.AsyncPipe],\n    styles: [\"tui-files{display:block}tui-files .t-files{position:relative;display:block;width:100%;height:100%;border-radius:var(--tui-radius-m);overflow:hidden}tui-files .t-button{z-index:3;width:100%;background:var(--tui-base-01)}tui-files .t-button_collapsed{box-shadow:var(--tui-shadow-modal);margin-top:-1.5rem}tui-files .t-extra-items tui-file{border-radius:0;margin-top:0;margin-bottom:-.0625rem}\\n\"],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return TuiFilesComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiFilesModule = /*#__PURE__*/(() => {\n  class TuiFilesModule {}\n  TuiFilesModule.ɵfac = function TuiFilesModule_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || TuiFilesModule)();\n  };\n  TuiFilesModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiFilesModule\n  });\n  TuiFilesModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiGroupModule, TuiLoaderModule, PolymorpheusModule, TuiSvgModule, TuiFocusVisibleModule, TuiButtonModule, TuiItemModule, TuiExpandModule, TuiPreventDefaultModule]]\n  });\n  return TuiFilesModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TUI_FILE_DEFAULT_OPTIONS, TUI_FILE_OPTIONS, TuiFileComponent, TuiFilesComponent, TuiFilesModule };\n//# sourceMappingURL=taiga-ui-kit-components-files.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}