"use strict";(self.webpackChunkteyca=self.webpackChunkteyca||[]).push([[386],{8386:(Y,g,n)=>{n.r(g),n.d(g,{LoginComponent:()=>B});var r=n(2615),y=n(1255),s=n(4341),t=n(3664);let f=(()=>{class o extends y.dQ{initForm(){const i=this.fb.group({login:this.fb.control("",{nonNullable:!0,validators:s.k0.required}),password:this.fb.control("",{nonNullable:!0,validators:s.k0.required})});return this.setForm(i),this.$form()}static \u0275fac=(()=>{let i;return function(a){return(i||(i=t.xGo(o)))(a||o)}})();static \u0275prov=r.jDH({token:o,factory:o.\u0275fac})}return o})();var $=n(7949),L=n(203),j=n(8141),M=n(980);let p=(()=>{class o{#t=(0,r.WQX)(f);#o=(0,r.WQX)($.u);#e=(0,r.WQX)(L.Ix);#n=(0,r.vPA)(!1);$form=this.#t.$form;$isLoading=this.#n.asReadonly();constructor(){this.#r()}login(){return this.#i(!0),this.#o.loginWithCredentials(this.$form().getRawValue()).pipe((0,j.M)(()=>{this.#e.navigate(["/clients"])}),(0,M.j)(this.#i.bind(this)))}#r(){return this.#t.initForm()}#i(i=!1){this.#n.set(i)}static \u0275fac=function(e){return new(e||o)};static \u0275prov=r.jDH({token:o,factory:o.\u0275fac})}return o})();var T=n(9079),E=n(7705),c=n(2180),v=n(378),m=n(9936),b=n(7218),d=n(5387),h=n(6686),G=n(2200);const C=()=>[];function D(o,N){1&o&&(t.qex(0,0),t.j41(1,"label")(2,"tui-input",1),t.EFF(3," \u041b\u043e\u0433\u0438\u043d "),t.k0s(),t.nrm(4,"tui-error",2),t.nI1(5,"tuiFieldError"),t.nI1(6,"async"),t.k0s(),t.j41(7,"label")(8,"tui-input-password",3),t.EFF(9," \u041f\u0430\u0440\u043e\u043b\u044c "),t.k0s(),t.nrm(10,"tui-error",4),t.nI1(11,"tuiFieldError"),t.nI1(12,"async"),t.k0s(),t.bVm()),2&o&&(t.Y8G("formGroup",N),t.R7$(2),t.Y8G("tuiTextfieldCleaner",!0),t.R7$(2),t.Y8G("error",t.bMT(6,7,t.bMT(5,5,t.lJ4(13,C)))),t.R7$(4),t.Y8G("tuiTextfieldCleaner",!0),t.R7$(2),t.Y8G("error",t.bMT(12,11,t.bMT(11,9,t.lJ4(14,C)))))}let P=(()=>{class o{$form=E.hFB.required({alias:"form"});static \u0275fac=function(e){return new(e||o)};static \u0275cmp=t.VBU({type:o,selectors:[["app-login-form"]],inputs:{$form:[1,"form","$form"]},decls:1,vars:1,consts:[[3,"formGroup"],["formControlName","login","tuiTextfieldSize","m",1,"input",3,"tuiTextfieldCleaner"],["formControlName","login",3,"error"],["formControlName","password","tuiTextfieldSize","m",1,"input",3,"tuiTextfieldCleaner"],["formControlName","password",3,"error"]],template:function(e,a){if(1&e&&t.nVh(0,D,13,15,"ng-container",0),2&e){let l;t.vxM((l=a.$form())?0:-1,l)}},dependencies:[s.X1,s.BC,s.cb,s.j4,s.JD,c.zi,c.mp,c.Ws,b.F,d.CN,d.np,d.G6,v.Hi,m.Qw,m.PL,m.lv,h.F,h.u,v.bs,G.Jj],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-3x)}"]})}return o})();var F=n(6249),x=n(2782),R=n(177);let B=(()=>{class o{#t=(0,r.WQX)(p);#o=(0,r.WQX)(r.abz);$form=this.#t.$form;$isLoading=this.#t.$isLoading;onLogin(){this.#t.login().pipe((0,T.pQ)(this.#o)).subscribe()}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=t.VBU({type:o,selectors:[["app-login"]],features:[t.Jv_([p,f])],decls:11,vars:5,consts:[[1,"login-card"],[1,"login-header"],["ngSrc","assets/icons/logo.svg","alt","logo","title","logo","width","64","height","64"],[1,"login-title","tui-text_h4"],[1,"login-subtitle","tui-text_h4"],[3,"overlay","showLoader"],[3,"form"],["type","button","tuiButton","","size","m",3,"click","disabled","showLoader"]],template:function(e,a){if(1&e){const l=t.RV6();t.j41(0,"div",0)(1,"div",1),t.nrm(2,"img",2),t.j41(3,"span",3),t.EFF(4,"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 \u0422\u0435\u0439\u043a\u0430"),t.k0s(),t.j41(5,"span",4),t.EFF(6,"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0441\u0435\u0433\u043e\u0434\u043d\u044f"),t.k0s()(),t.j41(7,"tui-loader",5),t.nrm(8,"app-login-form",6),t.k0s(),t.j41(9,"button",7),t.bIt("click",function(){return r.eBV(l),r.Njj(a.onLogin())}),t.EFF(10," \u0412\u043e\u0439\u0442\u0438 "),t.k0s()()}if(2&e){const l=a.$form(),u=a.$isLoading();t.R7$(7),t.Y8G("overlay",!0)("showLoader",u),t.R7$(),t.Y8G("form",l),t.R7$(),t.Y8G("disabled",l.invalid||u)("showLoader",u)}},dependencies:[P,F.Yc,F.jT,x.Pv,x.SM,R.kt],styles:["[_nghost-%COMP%]{padding:var(--spacing-4x);min-height:100vh;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .login-card[_ngcontent-%COMP%]{max-width:400px;padding:var(--spacing-2x);display:flex;flex-direction:column;gap:var(--spacing-4x)}[_nghost-%COMP%]   .login-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-3x);align-items:center}[_nghost-%COMP%]   .login-subtitle[_ngcontent-%COMP%]{opacity:.3}"],changeDetection:0})}return o})()}}]);