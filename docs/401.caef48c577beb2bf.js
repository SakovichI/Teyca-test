"use strict";(self.webpackChunkteyca=self.webpackChunkteyca||[]).push([[401],{3401:(de,x,r)=>{r.r(x),r.d(x,{ClientsComponent:()=>le});var u=r(2615),g=r(7705),P=r(8132),y=r(203),Y=r(7949),M=r(4837),t=r(3664),d=r(9925),U=r(4350),v=r(2200);let V=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=u.G2t({}),e})();(0,d.gc)({size:"m",autoColor:!1,rounded:!1});let H=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=u.G2t({imports:[[v.MD,V,U.vl]]}),e})();var p=r(2782),Q=r(9595),O=r(6249),I=r(1974);const $={sizeOptionContent:function ot({$implicit:e}){return`${e}`},showPages:!0,items:[10,20,50,100],size:10},rt=(0,d.gc)($);function st(e){return(0,d.eC)(rt,e,$)}var l=r(3983),C=r(7645),z=r(9079),F=r(5281),w=r(2661);class E{#t=(0,u.WQX)(y.Ix);destroyRef=(0,u.WQX)(u.abz);updateQueryParams(a){this.#t.navigate([],{queryParams:a,queryParamsHandling:"merge",replaceUrl:!0})}}const D=()=>{const e=[...new URLSearchParams(location.search).entries()];return Object.fromEntries(e.map(([n,i])=>{if((e=>{const a=e.startsWith("+");if(a)return!!a;const n="null"!==e,i=!e.startsWith("["),o=!e.startsWith("{"),s=isNaN(Number(e));return n&&i&&o&&s})(i))return[n,i];if(!isNaN(Number(i)))return[n,i];try{return[n,JSON.parse(i)]}catch{return[n,null]}}))};let gt=(()=>{class e extends E{#t="pageIndex";#n=(0,u.WQX)(C.U);ngOnInit(){this.#e(),this.#i()}#e(){if(!location.search||!this.#n)return;const n=D()[this.#t];!n||!function ct(e){return"number"==typeof e||(0,w.A)(e)&&"[object Number]"==(0,F.A)(e)}(n)||this.#n.onElementClick(n)}#i(){this.#n.indexChange.pipe((0,z.pQ)(this.destroyRef)).subscribe(n=>this.updateQueryParams({[this.#t]:n}))}static \u0275fac=(()=>{let n;return function(o){return(n||(n=t.xGo(e)))(o||e)}})();static \u0275dir=t.FsC({type:e,selectors:[["","mwBindPaginationQueryParams",""]],features:[t.Vt3]})}return e})();var c=r(4341),S=r(3744);var _t=r(152),vt=r(3633);let Ct=(()=>{class e extends E{#t=(0,u.WQX)(c.ZU);ngOnInit(){this.#n(),this.#e()}#n(){if(!location.search||!this.#t.control)return;const n=D();this.#t?.control.patchValue(n)}#e(){this.#t.control?.valueChanges.pipe((0,_t.B)(vt.DT),(0,z.pQ)(this.destroyRef)).subscribe(n=>this.updateQueryParams(this.#i(n)))}#i(n){return Object.entries(n).reduce((s,[h,_])=>(s[h]=this.#a(_)?null:(s=>function pt(e){return"string"==typeof e||!(0,S.A)(e)&&(0,w.A)(e)&&"[object String]"==(0,F.A)(e)}(s)?s:JSON.stringify(s))(_),s),{})}#a(n){switch(typeof n){case"object":return(0,S.A)(n)?!n.length:!n||!Object.keys(n).length;case"string":return!n||""===n;case"boolean":return!n;default:return!1}}static \u0275fac=(()=>{let n;return function(o){return(n||(n=t.xGo(e)))(o||e)}})();static \u0275dir=t.FsC({type:e,selectors:[["","mwBindFormQueryParams",""]],features:[t.Vt3]})}return e})();var A=r(9835),L=r(423);const G=(0,d.ET)(()=>e=>!e||e.includes("/")?e:`assets/taiga-ui/icons/${e.includes("Outline")?e:e.replace("Large","").concat("Outline")}.svg`);var ft=r(3294),bt=r(6977);const Tt=["type","checkbox","tuiCheckbox",""],j=(0,d.gc)({size:"m",icons:{checked:e=>"m"===e?"tuiIconCheckLarge":"tuiIconCheck",indeterminate:e=>"m"===e?"tuiIconMinusLarge":"tuiIconMinus"}});let xt=(()=>{class e{constructor(n,i,o,s,h,_){this.cdr=n,this.resolver=i,this.options=o,this.destroy$=s,this.el=h,this.control=_,this.size=this.options.size}get icon(){const n=this.el.nativeElement.indeterminate?this.options.icons.indeterminate:this.options.icons.checked,i=(0,d.YB)(n)?n:n(this.size);return`url(${this.resolver(i)})`}ngOnInit(){var n;null!==(n=this.control)&&void 0!==n&&n.valueChanges&&(0,A.lD)(this.control).pipe((0,ft.F)(),(0,A.Eb)(this.cdr),(0,bt.Q)(this.destroy$)).subscribe(i=>{this.el.nativeElement.indeterminate=null===(this.control instanceof c.vS?this.control.model:i)})}}return e.\u0275fac=function(n){return new(n||e)(t.rXU(g.gRc),t.rXU(G),t.rXU(j),t.rXU(L.ew,2),t.rXU(t.aKT),t.rXU(c.vO,8))},e.\u0275cmp=t.VBU({type:e,selectors:[["input","type","checkbox","tuiCheckbox",""]],hostAttrs:["tuiAppearance",""],hostVars:8,hostBindings:function(n,i){2&n&&(t.Avn("disabled",!i.control||i.control.disabled),t.BMQ("data-size",i.size),t.xc7("--t-mask",i.icon),t.AVh("_invalid",(null==i.control?null:i.control.invalid)&&(null==i.control?null:i.control.touched))("_readonly",!i.control))},inputs:{size:"size"},standalone:!1,features:[t.Jv_([L.ew])],attrs:Tt,decls:0,vars:0,template:function(n,i){},styles:['[_nghost-%COMP%]{width:1.5rem;height:1.5rem;border-radius:var(--tui-radius-s);color:var(--tui-primary-text);cursor:pointer;margin:0;box-shadow:inset 0 0 0 .0625rem var(--tui-clear-active)}[_nghost-%COMP%]:before{position:absolute;top:0;left:0;width:100%;height:100%;content:"";background:currentColor;-webkit-mask:url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg"></svg>\') center / 100%;mask:url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg"></svg>\') center / 100%;transform:scale(0);transition:transform var(--tui-duration) ease-in-out,-webkit-mask 0s var(--tui-duration) ease-in-out;transition:transform var(--tui-duration) ease-in-out,mask 0s var(--tui-duration) ease-in-out;transition:transform var(--tui-duration) ease-in-out,mask 0s var(--tui-duration) ease-in-out,-webkit-mask 0s var(--tui-duration) ease-in-out}[_nghost-%COMP%]:disabled._readonly{opacity:1}[_nghost-%COMP%]:checked, [_nghost-%COMP%]:indeterminate{box-shadow:none;background:var(--tui-primary)}[_nghost-%COMP%]:checked:hover, [_nghost-%COMP%]:indeterminate:hover{background:var(--tui-primary-hover)}[_nghost-%COMP%]:checked:active, [_nghost-%COMP%]:indeterminate:active{background:var(--tui-primary-active)}[_nghost-%COMP%]:checked:before, [_nghost-%COMP%]:indeterminate:before{-webkit-mask-image:var(--t-mask);mask-image:var(--t-mask);transform:scale(1);transition:transform var(--tui-duration) ease-in-out,-webkit-mask 0s ease-in-out;transition:transform var(--tui-duration) ease-in-out,mask 0s ease-in-out;transition:transform var(--tui-duration) ease-in-out,mask 0s ease-in-out,-webkit-mask 0s ease-in-out}[data-size=s][_nghost-%COMP%]{width:1rem;height:1rem;border-radius:var(--tui-radius-xs)}._invalid[_nghost-%COMP%]{box-shadow:inset 0 0 0 .0625rem var(--tui-error-bg-hover)}._invalid[_nghost-%COMP%]:checked, ._invalid[_nghost-%COMP%]:indeterminate{background:var(--tui-error-fill)}'],changeDetection:0}),e})(),Pt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=u.G2t({}),e})();var R=r(6373),yt=r(3019),Mt=r(7291);const kt=["*"];let Ot=(()=>{class e{constructor(n){this.mode$=n,this.size="m",this.status="default",this.hoverable=!1}get padding(){var n;return this.isEmpty?"none":(0,d.sZ)(null===(n=this.value)||void 0===n?void 0:n.valueOf())?"m":"l"}get outputValue(){var n;const i=null===(n=this.value)||void 0===n?void 0:n.valueOf();return(0,d.sZ)(i)&&i>99?"99+":(0,d.Aj)(this.value)?String(this.value):""}get isEmpty(){return!this.value&&0!==this.value}titleText({offsetWidth:n,scrollWidth:i}){return n<i?this.outputValue:""}}return e.\u0275fac=function(n){return new(n||e)(t.rXU(yt.fL))},e.\u0275cmp=t.VBU({type:e,selectors:[["tui-badge"]],hostVars:7,hostBindings:function(n,i){1&n&&t.bIt("$.data-mode.attr",function(){return i.mode$}),2&n&&(t.BMQ("data-size",i.size)("data-status",i.status)("data-padding",i.padding),t.AVh("_hoverable",i.hoverable)("_empty-value",i.isEmpty))},inputs:{value:"value",size:"size",status:"status",hoverable:"hoverable"},standalone:!1,features:[t.Jv_([Mt.si])],ngContentSelectors:kt,decls:5,vars:2,consts:[["text",""],[1,"t-left-content"],[1,"t-text",3,"mouseenter","title"]],template:function(n,i){if(1&n){const o=t.RV6();t.NAR(),t.j41(0,"span",1),t.SdG(1),t.k0s(),t.j41(2,"span",2,0),t.bIt("mouseenter",function(){return u.eBV(o),u.Njj(0)}),t.EFF(4),t.k0s()}if(2&n){const o=t.sdS(3);t.R7$(2),t.Y8G("title",i.titleText(o)),t.R7$(2),t.SpI(" ",i.outputValue,"\n")}},styles:['[_nghost-%COMP%]{transition-property:background-color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;--left-content-color: currentColor;position:relative;display:inline-flex;font:var(--tui-font-text-s);align-items:center;justify-content:center;box-sizing:border-box;color:var(--tui-base-01);border-radius:6.25rem;white-space:nowrap;overflow:hidden;vertical-align:middle;max-width:100%}[_nghost-%COMP%]:after{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:absolute;top:0;left:0;width:100%;height:100%;content:"";box-sizing:border-box;border-radius:inherit;pointer-events:none}._hoverable[_nghost-%COMP%]:hover[data-status=custom]:after, ._hoverable[_nghost-%COMP%]:active[data-status=custom]:after{background-color:var(--tui-clear)}[data-status=primary][_nghost-%COMP%]{background-color:var(--tui-primary);color:var(--tui-primary-text)}[data-status=primary]._hoverable[_nghost-%COMP%]:hover{background-color:var(--tui-primary-hover)}[data-status=primary]._hoverable[_nghost-%COMP%]:active{background-color:var(--tui-primary-active)}[data-status=error][_nghost-%COMP%]{--left-content-color: var(--tui-error-fill);background-color:var(--tui-error-bg);color:var(--tui-text-01)}[data-status=error]._hoverable[_nghost-%COMP%]:hover, [data-status=error]._hoverable[_nghost-%COMP%]:active{background-color:var(--tui-error-bg-hover)}[data-status=error][data-mode=onDark][_nghost-%COMP%]{background-color:var(--tui-error-bg-night);color:var(--tui-text-01-night)}[data-status=error][data-mode=onDark]._hoverable[_nghost-%COMP%]:hover, [data-status=error][data-mode=onDark]._hoverable[_nghost-%COMP%]:active{background-color:var(--tui-error-bg-night-hover)}[data-status=success][_nghost-%COMP%]{--left-content-color: var(--tui-success-fill);background-color:var(--tui-success-bg);color:var(--tui-text-01)}[data-status=success]._hoverable[_nghost-%COMP%]:hover, [data-status=success]._hoverable[_nghost-%COMP%]:active{background-color:var(--tui-success-bg-hover)}[data-status=success][data-mode=onDark][_nghost-%COMP%]{background-color:var(--tui-success-bg-night);color:var(--tui-text-01-night)}[data-status=success][data-mode=onDark]._hoverable[_nghost-%COMP%]:hover, [data-status=success][data-mode=onDark]._hoverable[_nghost-%COMP%]:active{background-color:var(--tui-success-bg-night-hover)}[data-status=warning][_nghost-%COMP%]{--left-content-color: var(--tui-warning-fill);background-color:var(--tui-warning-bg);color:var(--tui-text-01)}[data-status=warning]._hoverable[_nghost-%COMP%]:hover, [data-status=warning]._hoverable[_nghost-%COMP%]:active{background-color:var(--tui-warning-bg-hover)}[data-status=warning][data-mode=onDark][_nghost-%COMP%]{background-color:var(--tui-warning-bg-night);color:var(--tui-text-01-night)}[data-status=warning][data-mode=onDark]._hoverable[_nghost-%COMP%]:hover, [data-status=warning][data-mode=onDark]._hoverable[_nghost-%COMP%]:active{background-color:var(--tui-warning-bg-night-hover)}[data-status=info][_nghost-%COMP%]{--left-content-color: var(--tui-info-fill);background-color:var(--tui-info-bg);color:var(--tui-text-01)}[data-status=info]._hoverable[_nghost-%COMP%]:hover, [data-status=info]._hoverable[_nghost-%COMP%]:active{background-color:var(--tui-info-bg-hover)}[data-status=info][data-mode=onDark][_nghost-%COMP%]{background-color:var(--tui-info-bg-night);color:var(--tui-text-01-night)}[data-status=info][data-mode=onDark]._hoverable[_nghost-%COMP%]:hover, [data-status=info][data-mode=onDark]._hoverable[_nghost-%COMP%]:active{background-color:var(--tui-info-bg-night-hover)}[data-status=neutral][_nghost-%COMP%]{--left-content-color: var(--tui-neutral-fill);background-color:var(--tui-neutral-bg);color:var(--tui-text-01)}[data-status=neutral]._hoverable[_nghost-%COMP%]:hover, [data-status=neutral]._hoverable[_nghost-%COMP%]:active{background-color:var(--tui-neutral-bg-hover)}[data-status=neutral][data-mode=onDark][_nghost-%COMP%]{background-color:var(--tui-neutral-bg-night);color:var(--tui-text-01-night)}[data-status=neutral][data-mode=onDark]._hoverable[_nghost-%COMP%]:hover, [data-status=neutral][data-mode=onDark]._hoverable[_nghost-%COMP%]:active{background-color:var(--tui-neutral-bg-night-hover)}[data-status=default][_nghost-%COMP%]{background-color:var(--tui-base-06)}[data-status=default][_nghost-%COMP%]:not([data-mode])._hoverable:hover{background-color:var(--tui-base-07)}[data-status=default][_nghost-%COMP%]:not([data-mode])._hoverable:active{background-color:var(--tui-base-08)}[data-status=default][data-mode=onDark][_nghost-%COMP%]{background-color:var(--tui-clear-inverse-hover)}[data-status=default][data-mode=onDark]._hoverable[_nghost-%COMP%]:hover{background-color:var(--tui-clear-inverse-active)}[data-status=default][data-mode=onDark]._hoverable[_nghost-%COMP%]:active{background-color:var(--tui-clear-inverse-active)}[data-status=default][data-mode=onDark][_nghost-%COMP%]:focus:after{border:2px solid var(--tui-base-01)}[data-status=default][data-mode=onLight][_nghost-%COMP%]{background-color:var(--tui-clear);color:var(--tui-text-01)}[data-status=default][data-mode=onLight]._hoverable[_nghost-%COMP%]:hover{background-color:var(--tui-clear-hover)}[data-status=default][data-mode=onLight]._hoverable[_nghost-%COMP%]:active{background-color:var(--tui-clear-active)}._hoverable[_nghost-%COMP%]{cursor:pointer}[data-padding=m][_nghost-%COMP%]{padding:0 .5rem}[data-padding=m][data-size=xs][_nghost-%COMP%]{padding:0 .25rem}[data-padding=m][data-size=s][_nghost-%COMP%]{padding:0 .375rem}[data-padding=m][data-size=l][_nghost-%COMP%]{padding:0 .625rem}[data-padding=l][_nghost-%COMP%]{padding:0 .625rem}[data-padding=l][data-size=xs][_nghost-%COMP%]{padding:0 .375rem}[data-padding=l][data-size=s][_nghost-%COMP%]{padding:0 .5rem}[data-padding=l][data-size=l][_nghost-%COMP%]{padding:0 .75rem}[data-size=xs][_nghost-%COMP%]{font:var(--tui-font-text-xs);height:1rem;min-width:1rem}[data-size=xs][_nghost-%COMP%]   .t-left-content[_ngcontent-%COMP%]:before{width:.34375rem;height:.34375rem}[data-size=s][_nghost-%COMP%]{font:var(--tui-font-text-xs);height:1.25rem;min-width:1.25rem}[data-size=s][_nghost-%COMP%]   .t-left-content[_ngcontent-%COMP%]:before{width:.25rem;height:.25rem}[data-size=m][_nghost-%COMP%]{height:var(--tui-height-xs);line-height:var(--tui-height-xs);min-width:var(--tui-height-xs)}[data-size=l][_nghost-%COMP%]{height:var(--tui-height-s);line-height:var(--tui-height-s);min-width:var(--tui-height-s)}[data-size=l][_nghost-%COMP%]   .t-left-content[_ngcontent-%COMP%]:before{margin:0 .5rem 0 0;width:.5rem;height:.5rem}._empty-value[_nghost-%COMP%]   .t-left-content[_ngcontent-%COMP%]{margin:0 -.25rem}._empty-value[_nghost-%COMP%]   .t-left-content[_ngcontent-%COMP%]:before{margin:0}.t-left-content[_ngcontent-%COMP%]{display:none;color:var(--left-content-color);line-height:0}.t-left-content[_ngcontent-%COMP%]:not(:empty){display:block;margin-left:-.25rem}.t-left-content[_ngcontent-%COMP%]:not(:empty):before{content:none}[data-status=error][_nghost-%COMP%]   .t-left-content[_ngcontent-%COMP%], [data-status=success][_nghost-%COMP%]   .t-left-content[_ngcontent-%COMP%], [data-status=warning][_nghost-%COMP%]   .t-left-content[_ngcontent-%COMP%], [data-status=info][_nghost-%COMP%]   .t-left-content[_ngcontent-%COMP%], [data-status=neutral][_nghost-%COMP%]   .t-left-content[_ngcontent-%COMP%]{display:block}.t-left-content[_ngcontent-%COMP%]:before{content:"";display:block;background:currentColor;margin:0 .375rem 0 0;width:.375rem;height:.375rem;border-radius:100%}.t-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}'],changeDetection:0}),e})(),It=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=u.G2t({imports:[[v.MD]]}),e})(),$t=(()=>{class e{$isDisabled=g.hFB.required({alias:"isDisabled"});$selectedClients=g.hFB.required({alias:"selectedClients"});$selectedCount=g.hFB.required({alias:"selectedCount"});actionClicked=(0,g.CGW)();ClientActionType=R.g9;ClientActionLabelsMap=R.fj;onTriggerAction(){this.actionClicked.emit()}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=t.VBU({type:e,selectors:[["app-clients-table-bar"]],inputs:{$isDisabled:[1,"isDisabled","$isDisabled"],$selectedClients:[1,"selectedClients","$selectedClients"],$selectedCount:[1,"selectedCount","$selectedCount"]},outputs:{actionClicked:"actionClicked"},decls:7,vars:2,consts:[["tuiMode","onLight",1,"table-bar-content"],[1,"count-container"],["size","l","status","primary",1,"count",3,"value"],[1,"tui-text_body-l"],["type","button","appearance","outline","size","m","tuiButton","","icon","tuiIconSendLarge",3,"click"]],template:function(i,o){1&i&&(t.j41(0,"div",0)(1,"span",1),t.nrm(2,"tui-badge",2),t.j41(3,"span",3),t.EFF(4,"\u0412\u044b\u0431\u0440\u0430\u043d\u043e"),t.k0s()(),t.j41(5,"button",4),t.bIt("click",function(){return o.onTriggerAction()}),t.EFF(6),t.k0s()()),2&i&&(t.R7$(2),t.Y8G("value",o.$selectedCount()),t.R7$(4),t.SpI(" ",o.ClientActionLabelsMap[o.ClientActionType.SendPush]," "))},dependencies:[It,Ot,p.Pv,p.SM],styles:[".table-bar-content[_ngcontent-%COMP%]{display:flex;align-items:center;padding:var(--spacing-4x) 0 var(--spacing-4x) 0}.count-container[_ngcontent-%COMP%]{display:flex;flex:1 1 50%;align-items:center;white-space:nowrap}.count-container[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{margin-right:var(--spacing-2x);background-color:var(--tui-primary)}.count-container[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{color:var(--tui-text-01)}"],changeDetection:0})}return e})();const zt=(e,a)=>a.userId;function Ft(e,a){if(1&e){const n=t.RV6();t.j41(0,"th",11)(1,"input",12),t.bIt("change",function(){u.eBV(n);const o=t.XpG();return u.Njj(o.toggleAll())}),t.k0s()()}if(2&e){const n=t.XpG();t.Y8G("sorter",null)("sticky",!0),t.R7$(),t.Y8G("indeterminate",n.$isIndeterminate())("ngModel",n.$areAllSelected())}}function wt(e,a){1&e&&(t.j41(0,"th",13),t.EFF(1,"ID"),t.k0s()),2&e&&t.Y8G("sticky",!0)}function Et(e,a){1&e&&(t.j41(0,"th",13),t.EFF(1,"\u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e"),t.k0s()),2&e&&t.Y8G("sticky",!0)}function Dt(e,a){1&e&&(t.j41(0,"th",13),t.EFF(1,"\u041c\u0430\u043a\u0435\u0442 \u043a\u0430\u0440\u0442\u044b"),t.k0s()),2&e&&t.Y8G("sticky",!0)}function St(e,a){1&e&&(t.j41(0,"th",13),t.EFF(1,"\u041d\u043e\u043c\u0435\u0440 \u043a\u0430\u0440\u0442\u044b"),t.k0s()),2&e&&t.Y8G("sticky",!0)}function At(e,a){1&e&&(t.j41(0,"th",13),t.EFF(1,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430"),t.k0s()),2&e&&t.Y8G("sticky",!0)}function Lt(e,a){1&e&&(t.j41(0,"th",13),t.EFF(1,"\u0418\u043c\u044f \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430"),t.k0s()),2&e&&t.Y8G("sticky",!0)}function Gt(e,a){1&e&&(t.j41(0,"th",13),t.EFF(1,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),t.k0s()),2&e&&t.Y8G("sticky",!0)}function Bt(e,a){1&e&&(t.j41(0,"th",13),t.EFF(1,"\u0421\u043a\u0438\u0434\u043a\u0430"),t.k0s()),2&e&&t.Y8G("sticky",!0)}function jt(e,a){1&e&&(t.j41(0,"th",13),t.EFF(1,"\u0411\u043e\u043d\u0443\u0441"),t.k0s()),2&e&&t.Y8G("sticky",!0)}function Rt(e,a){1&e&&(t.j41(0,"th",13),t.EFF(1,"\u0421\u0443\u043c\u043c\u0430 \u043f\u043e\u043a\u0443\u043f\u043e\u043a"),t.k0s()),2&e&&t.Y8G("sticky",!0)}function Nt(e,a){1&e&&(t.j41(0,"th",13),t.EFF(1,"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0443"),t.k0s()),2&e&&t.Y8G("sticky",!0)}function Yt(e,a){1&e&&(t.j41(0,"th",13),t.EFF(1,"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f"),t.k0s()),2&e&&t.Y8G("sticky",!0)}function Ut(e,a){1&e&&t.nrm(0,"th",14),2&e&&t.Y8G("sorter",null)("sticky",!0)}function Vt(e,a){if(1&e){const n=t.RV6();t.j41(0,"td",17)(1,"input",18),t.bIt("change",function(){u.eBV(n);const o=t.XpG().$implicit,s=t.XpG();return u.Njj(s.toggle(o))}),t.k0s()()}if(2&e){const n=t.XpG().$implicit,i=t.XpG();t.R7$(),t.Y8G("ngModel",!!i.$selectedItemsMap().get(n.userId))}}function Xt(e,a){if(1&e&&(t.j41(0,"td",19),t.EFF(1),t.k0s()),2&e){const n=t.XpG().$implicit;t.R7$(),t.SpI(" ",n.userId," ")}}function Ht(e,a){if(1&e&&(t.j41(0,"td",19),t.EFF(1),t.k0s()),2&e){const n=t.XpG().$implicit;t.R7$(),t.SpI(" ",n.oS," ")}}function Qt(e,a){if(1&e&&(t.j41(0,"td",19),t.EFF(1),t.k0s()),2&e){const n=t.XpG().$implicit;t.R7$(),t.SpI(" ",n.template," ")}}function Wt(e,a){if(1&e&&(t.j41(0,"td",19),t.EFF(1),t.k0s()),2&e){const n=t.XpG().$implicit;t.R7$(),t.SpI(" ",n.barcode," ")}}function Jt(e,a){if(1&e&&(t.j41(0,"td",19),t.EFF(1),t.k0s()),2&e){const n=t.XpG().$implicit;t.R7$(),t.SpI(" ",n.lastName||"-"," ")}}function Zt(e,a){if(1&e&&(t.j41(0,"td",19),t.EFF(1),t.k0s()),2&e){const n=t.XpG().$implicit;t.R7$(),t.SpI(" ",n.firstName||"-"," ")}}function Kt(e,a){if(1&e&&(t.j41(0,"td",19),t.EFF(1),t.k0s()),2&e){const n=t.XpG().$implicit;t.R7$(),t.SpI(" ",n.phone||"-"," ")}}function qt(e,a){if(1&e&&(t.j41(0,"td",19),t.EFF(1),t.k0s()),2&e){const n=t.XpG().$implicit;t.R7$(),t.SpI("",n.discount||0,"%")}}function te(e,a){if(1&e&&(t.j41(0,"td",19),t.EFF(1),t.k0s()),2&e){const n=t.XpG().$implicit;t.R7$(),t.SpI("",n.bonus||0,"%")}}function ee(e,a){if(1&e&&(t.j41(0,"td",19),t.EFF(1),t.k0s()),2&e){const n=t.XpG().$implicit;t.R7$(),t.SpI(" ",n.summAll||0," ")}}function ne(e,a){if(1&e&&(t.j41(0,"td",19),t.nrm(1,"a",20),t.k0s()),2&e){const n=t.XpG().$implicit;t.R7$(),t.Y8G("href","https://cards.teyca.ru/download/"+n.link,t.B4B)}}function ie(e,a){if(1&e&&(t.j41(0,"td",19),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&e){const n=t.XpG().$implicit;t.R7$(),t.SpI(" ",t.i5U(2,1,n.createdAt,"hh:mm dd.MM.y")," ")}}function ae(e,a){if(1&e&&(t.j41(0,"td",19),t.nrm(1,"button",21),t.k0s()),2&e){const n=t.XpG().$implicit;t.R7$(),t.Y8G("routerLink",n.userId+"/edit")}}function oe(e,a){1&e&&(t.j41(0,"tr",8),t.DNE(1,Vt,2,1,"td",15)(2,Xt,2,1,"td",16)(3,Ht,2,1,"td",16)(4,Qt,2,1,"td",16)(5,Wt,2,1,"td",16)(6,Jt,2,1,"td",16)(7,Zt,2,1,"td",16)(8,Kt,2,1,"td",16)(9,qt,2,1,"td",16)(10,te,2,1,"td",16)(11,ee,2,1,"td",16)(12,ne,2,1,"td",16)(13,ie,3,4,"td",16)(14,ae,2,1,"td",16),t.k0s()),2&e&&(t.R7$(),t.Y8G("tuiCell","checkbox"),t.R7$(),t.Y8G("tuiCell","userId"),t.R7$(),t.Y8G("tuiCell","oS"),t.R7$(),t.Y8G("tuiCell","template"),t.R7$(),t.Y8G("tuiCell","barcode"),t.R7$(),t.Y8G("tuiCell","lastName"),t.R7$(),t.Y8G("tuiCell","firstName"),t.R7$(),t.Y8G("tuiCell","phone"),t.R7$(),t.Y8G("tuiCell","discount"),t.R7$(),t.Y8G("tuiCell","bonus"),t.R7$(),t.Y8G("tuiCell","summAll"),t.R7$(),t.Y8G("tuiCell","link"),t.R7$(),t.Y8G("tuiCell","createdAt"),t.R7$(),t.Y8G("tuiCell","actions"))}function re(e,a){if(1&e){const n=t.RV6();t.j41(0,"app-clients-table-bar",22),t.bIt("actionClicked",function(){u.eBV(n);const o=t.XpG();return u.Njj(o.onTriggerAction())}),t.k0s()}if(2&e){const n=t.XpG();t.Y8G("isDisabled",!1)("selectedClients",n.$selectedItems())("selectedCount",n.$selectedCount())}}let f=(()=>{class e extends Q.SelectableTable{actionClicked=(0,g.CGW)();columns=["checkbox","userId","oS","template","barcode","lastName","firstName","phone","discount","bonus","summAll","link","createdAt","actions"];onTriggerAction(){this.actionClicked.emit(this.$selectedItems())}static \u0275fac=(()=>{let n;return function(o){return(n||(n=t.xGo(e)))(o||e)}})();static \u0275cmp=t.VBU({type:e,selectors:[["app-clients-table"]],outputs:{actionClicked:"actionClicked"},features:[t.Jv_([st({showPages:!1})]),t.Vt3],decls:29,vars:25,consts:[["tableBarTemplate",""],[3,"overlay","showLoader"],["tuiSortBy","","tuiTable","","size","s",3,"columns"],["tuiThGroup",""],["class","checkbox","tuiTh","",3,"sorter","sticky",4,"tuiHead"],["tuiTh","",3,"sticky",4,"tuiHead"],["tuiTh","",3,"sorter","sticky",4,"tuiHead"],["tuiTbody","",3,"data"],["tuiTr",""],[3,"colSpan"],["mwBindPaginationQueryParams","",3,"index","length"],["tuiTh","",1,"checkbox",3,"sorter","sticky"],["size","s","tuiCheckbox","","type","checkbox",3,"change","indeterminate","ngModel"],["tuiTh","",3,"sticky"],["tuiTh","",3,"sorter","sticky"],["class","checkbox","tuiTd","",4,"tuiCell"],["tuiTd","",4,"tuiCell"],["tuiTd","",1,"checkbox"],["size","s","tuiCheckbox","","type","checkbox",3,"change","ngModel"],["tuiTd",""],["target","_blank","tuiLink","","icon","tuiIconDownloadLarge",1,"link",3,"href"],["type","button","tuiIconButton","","size","s","appearance","secondary","shape","rounded","icon","tuiIconEdit",3,"routerLink"],[3,"actionClicked","isDisabled","selectedClients","selectedCount"]],template:function(i,o){if(1&i&&(t.j41(0,"tui-loader",1)(1,"table",2)(2,"thead")(3,"tr",3),t.DNE(4,Ft,2,4,"th",4)(5,wt,2,1,"th",5)(6,Et,2,1,"th",5)(7,Dt,2,1,"th",5)(8,St,2,1,"th",5)(9,At,2,1,"th",5)(10,Lt,2,1,"th",5)(11,Gt,2,1,"th",5)(12,Bt,2,1,"th",5)(13,jt,2,1,"th",5)(14,Rt,2,1,"th",5)(15,Nt,2,1,"th",5)(16,Yt,2,1,"th",5)(17,Ut,1,2,"th",6),t.k0s()(),t.j41(18,"tbody",7),t.nI1(19,"tuiTableSort"),t.Z7z(20,oe,15,14,"tr",8,zt),t.nI1(22,"tuiTableSort"),t.k0s(),t.j41(23,"tfoot")(24,"tr")(25,"td",9),t.nrm(26,"tui-pagination",10),t.k0s()()()()(),t.DNE(27,re,1,3,"ng-template",null,0,t.C5r)),2&i){t.Y8G("overlay",!0)("showLoader",o.$isLoading()),t.R7$(),t.Y8G("columns",o.columns),t.R7$(3),t.Y8G("tuiHead","checkbox"),t.R7$(),t.Y8G("tuiHead","userId"),t.R7$(),t.Y8G("tuiHead","oS"),t.R7$(),t.Y8G("tuiHead","template"),t.R7$(),t.Y8G("tuiHead","barcode"),t.R7$(),t.Y8G("tuiHead","lastName"),t.R7$(),t.Y8G("tuiHead","firstName"),t.R7$(),t.Y8G("tuiHead","phone"),t.R7$(),t.Y8G("tuiHead","discount"),t.R7$(),t.Y8G("tuiHead","bonus"),t.R7$(),t.Y8G("tuiHead","summAll"),t.R7$(),t.Y8G("tuiHead","link"),t.R7$(),t.Y8G("tuiHead","createdAt"),t.R7$(),t.Y8G("tuiHead","actions");const s=o.$data();t.R7$(),t.Y8G("data",t.bMT(19,21,s)),t.R7$(2),t.Dyx(t.bMT(22,23,s)),t.R7$(5),t.Y8G("colSpan",o.columns.length),t.R7$(),t.Y8G("index",o.$pageIndex())("length",o.$pagesLength())}},dependencies:[c.YN,c.Zm,c.BC,c.vS,O.Yc,O.jT,l.fi,l.gJ,l.OT,l.H4,l.Qb,l.E5,l.AY,l.cK,l.y6,l.rF,C.N,C.U,gt,I.l,I.E,Pt,xt,$t,p.Pv,p.SM,P.Wk,l.Jx,v.vh],styles:["[_nghost-%COMP%]{display:block;overflow:auto}[_nghost-%COMP%]   table[_ngcontent-%COMP%]{width:100%;margin:var(--spacing-4x) 0}[_nghost-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], [_nghost-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-left:none;border-right:none}[_nghost-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:none}[_nghost-%COMP%]   tui-pagination[_ngcontent-%COMP%]{padding-top:var(--spacing-4x)}"],changeDetection:0})}return e})();var se=r(7218),m=r(5387),b=r(2180);let T=(()=>{class e{#t=(0,u.WQX)(c.ok);form=this.#n();#n(){return this.#t.group({search:this.#t.control("",{nonNullable:!0})})}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=t.VBU({type:e,selectors:[["app-clients-filter"]],decls:3,vars:3,consts:[["mwBindFormQueryParams","",3,"formGroup"],["formControlName","search","tuiTextfieldIconLeft","tuiIconSearch","tuiTextfieldSize","m","type","search",1,"search",3,"tuiTextfieldCleaner","tuiTextfieldLabelOutside"]],template:function(i,o){1&i&&(t.qex(0,0),t.j41(1,"tui-input",1),t.EFF(2," \u041f\u043e\u0438\u0441\u043a "),t.k0s(),t.bVm()),2&i&&(t.Y8G("formGroup",o.form),t.R7$(),t.Y8G("tuiTextfieldCleaner",!0)("tuiTextfieldLabelOutside",!0))},dependencies:[c.X1,c.BC,c.cb,c.j4,c.JD,se.F,m.CN,m.np,m.kf,m.G6,m.dx,Ct,b.zi,b.mp,b.Ws],styles:["[_nghost-%COMP%]{display:block;margin-top:var(--spacing-4x)}"]})}return e})();var N=r(8875),ue=r(1255);function ce(e,a){1&e&&(t.j41(0,"div",7)(1,"span",10),t.EFF(2," \u041f\u043e\u0438\u0441\u043a \u043d\u0435 \u0434\u0430\u043b \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432"),t.k0s()())}let le=(()=>{class e{destroyRef=(0,u.WQX)(u.abz);#t=(0,u.WQX)(Y.u);#n=(0,u.WQX)(M.$);#e=(0,u.WQX)(N.D);$data=this.#e.$data;$isEmptyData=this.#e.$isEmptyData;$isLoading=this.#e.$isLoading;$pagesLength=this.#e.$pagesLength;$pageIndex=this.#e.$pageIndex;$tableComponent=g.ebz.required(f);$filterComponent=g.ebz.required(T);ngOnInit(){this.#i()}onLogout(){this.#t.logout()}onTriggerAction(n){this.#n.openPushMessageDialog(n)}#i(){this.#e.initDataSource({tableComponent:this.$tableComponent(),form:this.$filterComponent().form})}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=t.VBU({type:e,selectors:[["app-clients"]],viewQuery:function(i,o){1&i&&(t.wEZ(o.$tableComponent,f,5),t.wEZ(o.$filterComponent,T,5)),2&i&&t.NyB(2)},features:[t.Jv_([M.$,N.D,ue._5])],decls:17,vars:6,consts:[[1,"header"],["type","button","tuiButton","","size","s","icon","tuiIconLogInLarge","appearance","outline","title","logout",3,"click"],[1,"content"],[1,"heading"],[1,"tui-text_h4"],[1,"subtitle","tui-text_body-m-2"],["type","button","tuiButton","","size","s","icon","tuiIconPlusLarge","title","add client","routerLink","new"],[1,"empty-data"],[1,"table",3,"hidden"],[3,"actionClicked","data","isLoading","pageIndex","pagesLength"],[1,"tui-text_h3"]],template:function(i,o){1&i&&(t.j41(0,"header",0)(1,"button",1),t.bIt("click",function(){return o.onLogout()}),t.EFF(2," \u0412\u044b\u0439\u0442\u0438 "),t.k0s()(),t.j41(3,"main",2)(4,"div",3)(5,"div")(6,"h1",4),t.EFF(7,"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432"),t.k0s(),t.j41(8,"p",5),t.EFF(9," \u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0443 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0440\u0430\u0441\u0441\u044b\u043b\u043a\u0438, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u0432\u0430\u0448\u0438\u0445 \u043a\u043b\u0438\u0435\u043d\u0442\u0430\u0445. "),t.k0s()(),t.j41(10,"button",6),t.EFF(11," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043b\u0438\u0435\u043d\u0442\u0430 "),t.k0s()(),t.nrm(12,"app-clients-filter"),t.nVh(13,ce,3,0,"div",7),t.j41(14,"div",8)(15,"app-clients-table",9),t.bIt("actionClicked",function(h){return o.onTriggerAction(h)}),t.k0s()(),t.nrm(16,"router-outlet"),t.k0s()),2&i&&(t.R7$(13),t.vxM(o.$isEmptyData()?13:-1),t.R7$(),t.Y8G("hidden",o.$isEmptyData()),t.R7$(),t.Y8G("data",o.$data())("isLoading",o.$isLoading())("pageIndex",o.$pageIndex())("pagesLength",o.$pagesLength()))},dependencies:[H,p.Pv,p.SM,f,P.Wk,y.n3,T],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-1-5x);align-items:flex-start;background-color:var(--tui-base-01);border-radius:var(--border-radius-xl)}.header[_ngcontent-%COMP%]{padding:var(--spacing-3x);display:flex;align-items:center;justify-content:end;width:100%;border-bottom:1px solid #e5e5e5}.heading[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between}.heading[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{max-width:500px}.heading[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin-top:var(--spacing-2x);color:#999}.content[_ngcontent-%COMP%]{width:100%;padding:var(--spacing-3x)}.table[_ngcontent-%COMP%]{margin-top:var(--spacing-6x);box-shadow:0 0 20px #00000014;border-radius:var(--border-radius-l)}.empty-data[_ngcontent-%COMP%]{padding:var(--spacing-6x);display:flex;align-items:center;justify-content:center}"],changeDetection:0})}return e})()}}]);